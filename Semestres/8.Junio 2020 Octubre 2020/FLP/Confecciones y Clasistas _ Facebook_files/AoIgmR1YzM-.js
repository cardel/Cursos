if (self.CavalryLogger) { CavalryLogger.start_js(["RyYoy"]); }

__d("BanzaiAdapter",["invariant","Arbiter","BanzaiConsts","BanzaiStorage","CurrentUser","ErrorGuard","QueryString","Run","TimeSlice","URI","UserAgent","ZeroRewrites","getAsyncParams","gkx","isInIframe","lowerFacebookDomain","once","BanzaiConfig"],(function(a,b,c,d,e,f,g){var h,i,j=[],k=new(b("Arbiter"))(),l=b("isInIframe")(),m="/ajax/bz",n="POST",o={config:b("BanzaiConfig"),useBeacon:!0,getEndPointUrl:function(a){a=b("getAsyncParams")(n);a.bz_orig="blue";a=b("QueryString").appendToUrl(m,a);a.length<=2e3||g(0,21850,a);return a},getStorage:function(){return b("BanzaiStorage")},getTopLevel:function(){return l&&b("lowerFacebookDomain").isValidDocumentDomain()?window.top:null},getUserID:function(){return b("CurrentUser").getID()},inform:function(a){k.inform(a)},subscribe:function(a,b){return k.subscribe(a,b)},wrapInTimeSlice:function(a,c){return b("TimeSlice").guard(function(){a()},c,{propagationType:b("TimeSlice").PropagationType.ORPHAN})},cleanup:function(){var a=j;j=[];a.forEach(function(a){a.readyState<4&&a.abort()})},preferredCompressionMethod:b("once")(function(){return"snappy_base64"}),readyToSend:function(){return b("UserAgent").isBrowser("IE <= 8")||navigator.onLine},send:function(a,c,d,e){var f=o.getEndPointUrl(!1);f=b("ZeroRewrites").rewriteURI(new(h||(h=b("URI")))(f));var g=b("ZeroRewrites").getTransportBuilderForURI(f)();g.open(n,f.toString(),!0);g.onreadystatechange=function(){if(g.readyState>=4){var a=j.indexOf(g);a>=0&&j.splice(a,1);try{a=g.status}catch(b){a=0}a==200?(c&&c(),e||o.inform((i||(i=b("BanzaiConsts"))).OK)):(d&&d(a),e||o.inform((i||(i=b("BanzaiConsts"))).ERROR))}};j.push(g);g.send(a,!1)},setHooks:function(a){},setUnloadHook:function(a){b("Run").onAfterUnload(a._unload)},onUnload:function(a){b("Run").onAfterUnload(a)},isOkToSendViaBeacon:function(){return!0}};e.exports=o}),null);
__d("BigPipePlugins",["DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}a.runPluginOnPagelet=function(b){a.getPluginList().forEach(function(a){a(b)})};a.getPluginList=function(){return[a.$1]};a.$1=function(b){if(!b)return;b=b.querySelectorAll("div[data-fte]");for(var c=0,d=b.length;c<d;c++)a.$2(b[c],"data-ft","data-ft")};a.$2=function(a,c,d){var e=a.getAttribute(c);e&&(b("DataStore").set(a,d,e),a.removeAttribute(c))};return a}();e.exports=a}),null);
__d("PageletEventConstsJS",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARRIVE_END:"arrive",ARRIVE_START:"prearrive",CSS_END:"css_load",CSS_START:"css",DISPLAY_END:"display",DISPLAY_START:"display_start",IMAGES_DISPLAYED:"images_displayed",JS_END:"jsdone",JS_START:"jsstart",ONLOAD_END:"onload",ONLOAD_START:"preonload",PAGELET_EVENT:"pagelet_events",PHASE_BEGIN:"phase_begin",SETUP:"setup"})}),null);
__d("PageletSet",["Arbiter"],(function(a,b,c,d,e,f){var g={},h={hasPagelet:function(a){return Object.prototype.hasOwnProperty.call(g,a)},getPagelet:function(a){return g[a]},getOrCreatePagelet:function(a){if(!h.hasPagelet(a)){var b=new j(a);g[a]=b}return h.getPagelet(a)},getPageletIDs:function(){return Object.keys(g)},removePagelet:function(a){if(h.hasPagelet(a)){var b=h.getPagelet(a);delete g[a];b.destroy()}}};function i(a,b){return a.contains?a.contains(b):!!(a.compareDocumentPosition(b)&16)}var j=function(){"use strict";function a(a){this.id=a,this.$1=null,this.$2=[],this.addDestructor(function(){b("Arbiter").inform("pagelet/destroy",{id:this.id,root:this.$1})}.bind(this))}var c=a.prototype;c.getRoot=function(){return this.$1};c.setRoot=function(a){this.$1=a};c.$3=function(){var a=[],b=this.$1;if(!b)return a;var c=h.getPageletIDs();for(var d=0;d<c.length;d++){var e=c[d];if(e===this.id)continue;e=g[e];var f=e.getRoot();f&&i(b,f)&&a.push(e)}return a};c.addDestructor=function(a){this.$2.push(a)};c.destroy=function(){var a=this.$3();for(var b=0;b<a.length;b++){var c=a[b];h.hasPagelet(c.id)&&h.removePagelet(c.id)}for(var c=0;c<this.$2.length;c++){a=this.$2[c]();a&&a()}};return a}();e.exports=h}),null);
__d("isTruthy",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&Boolean(a)}e.exports=a}),null);
__d("RunBlue",["Arbiter","BigPipeInstance","ContextualComponent","ExecutionEnvironment","PageEvents","TimeSlice","createCancelableFunction","emptyFunction","isTruthy","performanceAbsoluteNow","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h="onunloadhooks",i="onafterunloadhooks";function j(c,d){var e=a.CavalryLogger&&a.CavalryLogger.getInstance();if(!e)return;b("isTruthy")(d)?e.setAbsTimeStamp&&e.setAbsTimeStamp(c,d):e.setTimeStamp(c)}function c(c){var d=a.PageHooks;if(window.domready&&d){d.runHook(c,"domreadyhooks:late");return{remove:b("emptyFunction")}}else return p("domreadyhooks",c)}function d(b){var c=a.PageHooks;if(window.loaded&&c){var d=a.setTimeout(function(){c.runHook(b,"onloadhooks:late")},0);return{remove:function(){return a.clearTimeout(d)}}}else return p("onloadhooks",b)}function f(a,b){b=b===void 0?!window.loading_page_chrome:b;return b?p("onbeforeleavehooks",a):p("onbeforeunloadhooks",a)}function k(a,c){window.onunload||(window.onunload=b("TimeSlice").guard(function(){b("Arbiter").inform(b("PageEvents").NATIVE_ONUNLOAD,!0,"state")},"window.onunload"));return p(a,c)}function l(a){return k(h,a)}function m(a){return k(i,a)}function n(a){return p("onleavehooks",a)}function o(a,c){var d=b("createCancelableFunction")(c);c=function(){d(),d.cancel()};a=b("ContextualComponent").closestToNode(a);a&&a.onCleanup(c);window.onleavehooks=(window.onleavehooks||[]).concat(c);return{remove:function(){d.cancel()}}}function p(a,c){var d;d=(d=c)!=null?d:b("emptyFunction");c||b("recoverableViolation")("Undefined handler is not allowed","web_speed");var e=b("createCancelableFunction")(d);window[a]=(window[a]||[]).concat(e);return{remove:function(){e.cancel()}}}function q(a){window[a]=[]}var r=b("TimeSlice").guard(function(){b("Arbiter").inform(b("PageEvents").NATIVE_DOMREADY,!0,"state")},"DOMContentLoaded");a._domcontentready=r;function s(){var c=document,d=window;if(c.addEventListener){var e=/AppleWebKit.(\d+)/.exec(navigator.userAgent);if(e&&e[1]<525)var f=a.setInterval(function(){/loaded|complete/.test(c.readyState)&&(r(),a.clearInterval(f))},10);else c.addEventListener("DOMContentLoaded",r,!0)}else{e=d.location.protocol==="https:"?"//:":"javascript:void(0)";c.write('<script onreadystatechange="if (this.readyState==\'complete\') {this.parentNode.removeChild(this);_domcontentready();}" defer="defer" src="'+e+'"></');c.write("script>")}var g=d.onload;d.onload=b("TimeSlice").guard(function(){j("t_layout"),g&&g(),b("Arbiter").inform(b("PageEvents").NATIVE_ONLOAD,!0,"state")},"window.onload");d.onbeforeunload=b("TimeSlice").guard(function(a){var c={};b("Arbiter").inform(b("PageEvents").NATIVE_ONBEFOREUNLOAD,c,"state");c.warn||b("Arbiter").inform(b("PageEvents").AJAXPIPE_ONUNLOAD,{transition_type:"normal"});if(c.warn!==void 0){c=c.warn.body!=null?c.warn.body:c.warn;a&&(a.returnValue=c);return c}else return},"window.onbeforeunload")}function t(){var a,c=(g||(g=b("performanceAbsoluteNow")))();((a=window.console)==null?void 0:a.timeStamp)&&window.console.timeStamp('perf_trace {"name": "e2e", "parent": "PageEvents.BIGPIPE_ONLOAD"}');j("t_onload",c);b("Arbiter").inform(b("PageEvents").BIGPIPE_ONLOAD,{ts:c},"state")}var u=b("Arbiter").registerCallback(function(){b("BigPipeInstance").getCurrentInstance()?b("Arbiter").subscribeOnce(b("BigPipeInstance").Events.displayed,t):t()},[b("PageEvents").NATIVE_ONLOAD]),v=b("Arbiter").registerCallback(function(){j("t_domcontent");var a={timeTriggered:Date.now()};b("Arbiter").inform(b("PageEvents").BIGPIPE_DOMREADY,a,"state")},[b("PageEvents").NATIVE_DOMREADY]);b("ExecutionEnvironment").canUseDOM&&s();s={onAfterLoad:d,onAfterUnload:m,onBeforeUnload:f,onCleanupOrLeave:o,onLeave:n,onLoad:c,onUnload:l,__domContentCallback:v,__onloadCallback:u,__removeHook:q};e.exports=s}),null);
__d("__getCompileTime",[],(function(a,b,c,d,e,f){e.exports={}}),null);
__d("__getTotalFactories",[],(function(a,b,c,d,e,f){e.exports={}}),null);
__d("BigPipe",["requireDeferred","Arbiter","BigPipeExperiments","BigPipeInstance","BigPipePlugins","Bootloader","ErrorUtils","FBLogger","HasteResponse","JSCC","PageEvents","PageletEventConstsJS","PageletSet","RunBlue","ServerJS","TimeSlice","UserTimingUtils","$","captureUsageSnapshot","clearTimeout","fastDeepCopy","ge","gkx","performanceAbsoluteNow","setTimeout","__getTotalFactories","__getCompileTime","__getFactoryTime"],(function(a,b,c,d,e,f){var g,h,i=document.documentMode||+(/MSIE.(\d+)/.exec(navigator.userAgent)||[])[1],j=console.timeStamp&&window.location.search.indexOf("pagelet_ts=1")>0;function k(a,c){b("UserTimingUtils").measureStart(a+" "+c)}function l(a,c,d){b("UserTimingUtils").measureEnd("\u26cf "+a+" ["+c+"][phase "+d+"]",a+" "+c)}function m(a,c){if(a)for(var d=0;d<a.length;d++)(g||(g=b("ErrorUtils"))).applyWithGuard(new Function(a[d]),c)}var n=1;a=function(){"use strict";function a(c){var d=this;this._onDisplayDone=function(a){d.arbiter.registerCallback(a,["display_done"])};Object.assign(this,{arbiter:b("Arbiter"),rootNodeID:"content",lid:null,isAjax:!1,domContentCallback:b("RunBlue").__domContentCallback,onloadCallback:b("RunBlue").__onloadCallback,domContentEvt:b("PageEvents").BIGPIPE_DOMREADY,onloadEvt:b("PageEvents").BIGPIPE_ONLOAD,forceFinish:!1,config:{},_currentPhase:0,_lastPhaseOfLastResponse:-1,_lastPhaseBeforeLastResponse:-1,_livePagelets:{},_phases:{},_orderedPhases:[],_maxPhase:0,_displayDoneFired:!1,_displayDone:!1,_awaitingLIDEventQueue:[]},c);this.config||(this.config={});this.automatic?this._relevant_instance=b("BigPipeInstance").getCurrentInstance():b("BigPipeInstance").setCurrentInstance_DO_NOT_USE(this);this._serverJS=new(b("ServerJS"))();this._informEventExternal(a.Events.init,{arbiter:this.arbiter},b("Arbiter"));this._displayDoneCallback=this.arbiter.registerCallback(function(){var c=b("captureUsageSnapshot")();d._informEventExternal(a.Events.displayed,{rid:d.rid,ajax:d.isAjax,usageSnapshot:c})},["display_done"]);c=["pagelet_displayed_all"];this.config.extra_dom_content_event!=null&&c.push(this.config.extra_dom_content_event);this.arbiter.registerCallback(this.domContentCallback,c);this._beginPhase(0);this.arbiter.registerCallback(this.onloadCallback,["bigpipe_e2e_reported"]);this._loadedCallback=this.arbiter.registerCallback(function(){d._informEventExternal(a.Events.loaded,{rid:d.rid,ajax:d.isAjax}),d.arbiter.inform("bigpipe_e2e_reported",!0)},["pagelet_displayed_all"]);this.arbiter.registerCallback(function(){return d._serverJS.cleanup(b("TimeSlice"))},[this.onloadEvt,"bigpipe_e2e_reported"])}var c=a.prototype;c._beginPhase=function(a){var b=this._getOrCreatePhase(a);b.begun=!0;this._informEventExternal("phase_begin",{phase:a});this.arbiter.inform("phase_begin_"+a,!0,"state")};c._getOrCreatePhase=function(a){if(this._phases[a])return this._phases[a];var b={pagelets:[],begun:!1,complete:!1};this._phases[a]=b;var c=0;while(c<this._orderedPhases.length){if(a<this._orderedPhases[c])break;c++}this._orderedPhases.splice(c,0,a);return b};c._tryRenderingNextPhase=function(){var a=this._phases[this._currentPhase];if(a&&a.begun&&!a.complete)return;for(var a=this._orderedPhases,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=this._phases[d];if(e.begun)if(e.complete)continue;else return;else{this._currentPhase=d;this._beginPhase(d);return}}};c._displayPageletHandler=function(a){this.displayCallback?this.displayCallback(this._displayPagelet.bind(this,a)):this._displayPagelet(a)};c._displayPagelet=function(a){k(a.id,"display");a.displayStarted=!0;this._informPageletEvent(b("PageletEventConstsJS").DISPLAY_START,a);var c=this._getPagelet(a),d=[],e={};for(var f in a.content){var g=a.content[f];a.append&&(f=this._getPageletRootID(a));var i=b("ge")(f);if(!i||f==null){var j="Root element %s is missing for pagelet %s";continue}f===c.id&&c.setRoot(i);if(g){if(a.append)q(i,g,d);else if(g.nodeType)i.innerHTML="",q(i,g,d);else{j=o(g);i.innerHTML=j;e[f]=j;d.push(i)}b("BigPipeExperiments").enable_bigpipe_plugins&&b("BigPipePlugins").runPluginOnPagelet(i)}g=i.getAttribute("data-referrer");g||i.setAttribute("data-referrer",f)}j=null;if(a.static_templates){g=b("ge")("static_templates");g&&(j=o(a.static_templates),a.replace_static_templates_if_exists&&(j=r(g,j,d)),q(g,j,d))}this._informPageletDisplayDetails(a.id,a.jsmods,e,j);a.displayed=!0;if(a.jsmods){i=this._serverJS.handlePartial(a.jsmods,{pagelet:a.id,bigPipeContext:{onDisplayDone:this._onDisplayDone}});c.addDestructor(i.cancel.bind(i))}var m=[];d.forEach(function(a){if(typeof a.getElementsByTagName==="function"){a=a.getElementsByTagName("img");for(var b=0;b<a.length;b++)m.push(a[b].src)}});m.length>0&&this._informEventExternal("images_displayed",{pagelet:a.id,timeslice:b("TimeSlice").getContext()?b("TimeSlice").getContext().contextID:null,images:m});if(b("gkx")("676920")){var n=(h||(h=b("performanceAbsoluteNow")))();b("requireDeferred")("VisualCompletionGating").onReady(function(b){b&&b.addElements(a.id,d,n)})}this._informPageletEvent(b("PageletEventConstsJS").DISPLAY_END,a);l(a.id,"display",a.phase);this.arbiter.inform(a.id+"_displayed",!0,"state")};c._onPhaseDisplayEnd=function(c){var d=this,e=this._getOrCreatePhase(c);e.complete=!0;if(c===this._ttiPhase){e={};var f=b("captureUsageSnapshot")();this.isAjax||(e.cjs_factory_count_tti=b("__getTotalFactories")(),e.cjs_compile_time_tti=b("__getCompileTime")(),e.cjs_factory_time_tti=b("__getFactoryTime")());this._informEventExternal(a.Events.tti,{phase:this._ttiPhase,rid:this.rid,ajax:this.isAjax,metrics:e,usageSnapshot:f});this.arbiter.inform("tti_pagelet_displayed",!0,"state")}e=b("gkx")("676921");var g=!1;this._isRelevant()&&(c===this._lastPhaseBeforeLastResponse&&(g=e,this._fireDisplayDone(function(){g&&d._nextPhase()})),c===this._lastPhaseOfLastResponse&&(this._displayDoneFired||(g=e,this._fireDisplayDone(function(){})),this.arbiter.inform("pagelet_displayed_all",!0,"state")));!g&&c!==this._lastPhaseOfLastResponse&&this._nextPhase()};c._nextPhase=function(){this.config.flush_pagelets_asap?i<=8?b("setTimeout")(this._tryRenderingNextPhase.bind(this),20):this._tryRenderingNextPhase():(this._currentPhase++,i<=8?b("setTimeout")(this._beginPhase.bind(this,this._currentPhase),20):this._beginPhase(this._currentPhase))};c._fireDisplayDone=function(a){this._displayDoneFired=!0,this.arbiter.inform("display_done",!0),this._displayDone=!0,a(),this.lid!=null&&l("display_done",this.lid,"all")};c._downloadJsForPagelet=function(a){this._informPageletEvent(b("PageletEventConstsJS").JS_START,a),b("Bootloader").loadResources(a.allResources||[],function(){var c=this;this._informPageletEvent(b("PageletEventConstsJS").JS_END,a);a.requires=a.requires||[];(!this.isAjax||a.phase>=1)&&a.requires.push("uipage_onload");var d=function(){c._informPageletEvent(b("PageletEventConstsJS").ONLOAD_START,a),c._isRelevantPagelet(a)&&m(a.onload),c._informPageletEvent(b("PageletEventConstsJS").ONLOAD_END,a),c.arbiter.inform("pagelet_onload",!0),a.provides&&c.arbiter.inform(a.provides,!0,"state")},e=function(){c._isRelevantPagelet(a)&&m(a.onafterload)};this.arbiter.registerCallback(d,a.requires);this.arbiter.registerCallback(e,[this.onloadEvt])}.bind(this),a.id)};c._getPagelet=function(a){a=this._getPageletRootID(a);return b("PageletSet").getPagelet(a)};c._getPageletRootID=function(a){return a.append||Object.keys(a.content)[0]||null};c._isRelevant=function(){var a=b("BigPipeInstance").getCurrentInstance();return this==a||this.automatic&&this._relevant_instance==a||this.jsNonBlock||this.forceFinish||a&&a.allowIrrelevantRequests};c._isRelevantPagelet=function(a){if(!this._isRelevant())return!1;a=this._getPageletRootID(a);return!!this._livePagelets[a]};c._informEventExternal=function(a,c,d){c=c||{},d=d||this.arbiter,c.ts||(c.ts=(h||(h=b("performanceAbsoluteNow")))()),j&&(console.timeStamp&&console.timeStamp(a+" "+(Object.prototype.hasOwnProperty.call(c,"arbiter")?JSON.stringify(babelHelpers["extends"]({},c,{arbiter:null})):JSON.stringify(c)))),this.lid===null?this._awaitingLIDEventQueue.push([d,a,c]):(c.lid=this.lid,d.inform(a,c,"persistent"))};c._informPageletEvent=function(a,b,c){a={event:a,id:b.id,ts:c};b.phase&&(a.phase=b.phase);b.categories&&(a.categories=b.categories);b.allResources&&(a.allResources=b.allResources);b.displayResources&&(a.displayResources=b.displayResources);this._informEventExternal("pagelet_event",a)};c._informPageletDisplayDetails=function(a,c,d,e){if(this.config.dispatch_pagelet_replayable_actions)try{this._informEventExternal("pagelet_performing_replayable_actions",{id:a,jsmods:b("fastDeepCopy")(c),contentMap:d,staticTemplates:e})}catch(a){b("FBLogger")("bigpipe_pagelet_replay").catching(a).warn("failed at _informPageletDisplayDetails"),this._informEventExternal("pagelet_performing_replayable_actions_failed",{})}};a.getCurrentInstance=function(){return b("BigPipeInstance").getCurrentInstance()};return a}();Object.assign(a.prototype,{beforePageletArrive:function(a,c){var d=this;b("TimeSlice").guard(function(){return d._informPageletEvent(b("PageletEventConstsJS").ARRIVE_START,{id:a},c)},"beforePageletArrive "+a,{root:!0})()},setPageID:function(a){this.lid=a,this._awaitingLIDEventQueue.forEach(function(b){var c=b[0],d=b[1];b=b[2];b.lid=a;c.inform(d,b,"persistent")}),this._awaitingLIDEventQueue=[],this.lid&&k("display_done",this.lid)},onPageletArrive:(g||(g=b("ErrorUtils"))).guard(function(a){var c=this;this._informPageletEvent(b("PageletEventConstsJS").ARRIVE_END,a);b("HasteResponse").handleSRPayload(a);a.content=a.content||{};var d=a.phase;if(a.all_phases)for(var e=a.all_phases,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this._getOrCreatePhase(h)}h=this._getOrCreatePhase(d);h.pagelets.push(a.id);this._maxPhase=Math.max(d,this._maxPhase);a.last_in_phase&&this.arbiter.registerCallback(function(){return c._onPhaseDisplayEnd(d)},h.pagelets.map(function(a){return a+"_displayed"}).concat(["phase_begin_"+d]));g=this._getPageletRootID(a);var i=b("PageletSet").getOrCreatePagelet(g);a.last_pagelet&&(this._lastPhaseBeforeLastResponse=this._maxPhase);a.the_end&&(this._lastPhaseOfLastResponse=d);a.tti_phase!==void 0&&(this._ttiPhase=a.tti_phase);this._livePagelets[i.id]=!0;i.addDestructor(function(){delete c._livePagelets[i.id]});if(a.jscc_map!=null&&a.jscc_map!==""){f=b("JSCC").parse(a.jscc_map);e=b("JSCC").init(f);i.addDestructor(e)}var j,k=[];if(a.jsmods){h=a.jsmods.define;g=a.jsmods.instances;f=a.jsmods.markup;e=a.jsmods.pre_display_requires;delete a.jsmods.define;delete a.jsmods.instances;delete a.jsmods.markup;delete a.jsmods.pre_display_requires;var l=19e3;l=function(){if(a.displayStarted===!0){b("FBLogger")("BigPipe").warn("registerToBlockDisplayUntilDone_DONOTUSE called after pagelet %s was displayed. This is a no-op.",a.id);return function(){}}var d,e,f=n+"_preDisplayEvent";n++;j?c.arbiter.registerCallback(j,[f]):k.push(f);return b("TimeSlice").guard(function(){e=!0,b("clearTimeout")(d),c.arbiter.inform(f,!0,"state")},"BigPipeDisplayBlockingEvent "+f,{propagationType:b("TimeSlice").PropagationType.EXECUTION})};this._informPageletDisplayDetails(a.id,{define:h,instances:g,markup:f,pre_display_requires:e},{});this._serverJS.handlePartial({define:h,instances:g,markup:f,pre_display_requires:e},{pagelet:a.id,bigPipeContext:{onDisplayDone:this._onDisplayDone,registerToBlockDisplayUntilDone_DONOTUSE:l}})}this.arbiter.registerCallback(this._loadedCallback,["pagelet_onload"]);this._informPageletEvent(b("PageletEventConstsJS").SETUP,a);if(a.display_out_of_phase==="asap")k=k.concat(["first_response_displayed",a.id+"_css_end"]);else if(a.display_out_of_phase==="after_tti"){var m=a.id+"_greedy_render";k=k.concat(["first_response_displayed",a.id+"_css_end",m]);var o=!1;h=function(){if(o)return;c.arbiter.inform(m,!0,"state")};this.arbiter.registerCallback(h,["tti_pagelet_displayed"]);this.arbiter.registerCallback(h,["phase_begin_"+d])}else k=k.concat(["phase_begin_"+a.phase,a.id+"_css_end"]);(a.display_dependency||[]).forEach(function(a){return k.push(a+"_displayed")});if(a.display_group){g=document.body.getElementsByClassName("pagelet-group");for(var f=0;f<g.length;f++){e=g[f];if(e.id===a.id)break;e.getAttribute("data-display-group")===a.display_group&&k.push(e.id+"_displayed")}}j=this.arbiter.registerCallback(function(){a.display_delay_ms===void 0?c._displayPageletHandler(a):b("setTimeout")(function(){return c._displayPageletHandler(a)},a.display_delay_ms)},k);var p=!1;l=function(){if(p)return;p=!0;c._informPageletEvent(b("PageletEventConstsJS").CSS_START,a);var d=a.displayResources||[];b("Bootloader").loadResources(d,function(){this._informPageletEvent(b("PageletEventConstsJS").CSS_END,a),this.arbiter.inform(a.id+"_css_end",!0,"state")}.bind(c),a.id)};this.config.flush_pagelets_asap?l():this.arbiter.registerCallback(l,["phase_begin_"+d]);h=[a.id+"_displayed"];this.jsNonBlock||h.push(this.domContentEvt);this.arbiter.registerCallback(this._downloadJsForPagelet.bind(this,a),h)},"BigPipe#onPageletArrive")});a.Events=b("BigPipeInstance").Events;function o(a){if(!a||typeof a==="string")return a;if(a.container_id){var c=b("$")(a.container_id);a=p(c)||"";c.parentNode.removeChild(c);return a}a.nodeType;return null}function p(a){if(!a.firstChild)return null;if(a.firstChild.nodeType!==8)return null;a=a.firstChild.nodeValue;a=a.substring(1,a.length-1);return a.replace(/\\([\s\S]|$)/g,"$1")}function q(a,b,c){b=s(b);for(var d=0;d<b.childNodes.length;d++)c.push(b.childNodes[d]);a.appendChild(b)}function r(a,b,c){b=s(b);var d=document.createDocumentFragment(),e=b.childNodes.length;for(var f=0;f<e;f++){var g=b.firstChild,h=g.id&&document.getElementById(g.id),i=h&&h.parentNode;i===a?(i.replaceChild(g,h),c.push(g)):d.appendChild(g)}return d}function s(a){if(a.nodeType)return a;var b=document.createDocumentFragment();a=o(a);if(a){var c=document.createElement("div");c.innerHTML=a;while(c.firstChild)b.appendChild(c.firstChild)}return b}e.exports=a}),null);
__d("ScriptPathState",["Arbiter"],(function(a,b,c,d,e,f){var g,h,i,j,k=100,l={setIsUIPageletRequest:function(a){i=a},setUserURISampleRate:function(a){j=a},reset:function(){g=null,h=!1,i=!1},_shouldUpdateScriptPath:function(){return h&&!i},_shouldSendURI:function(){return Math.random()<j},getParams:function(){var a={};l._shouldUpdateScriptPath()?l._shouldSendURI()&&g!==null&&(a.user_uri=g.substring(0,k)):a.no_script_path=1;return a}};b("Arbiter").subscribe("pre_page_transition",function(a,b){h=!0,g=b.to.getUnqualifiedURI().toString()});e.exports=a.ScriptPathState=l}),null);
__d("AjaxPipeRequest",["invariant","Arbiter","AsyncRequest","AsyncRequestConfig","BigPipe","ContextualComponent","CSS","DOM","Env","PageEvents","PageletGK","PageletSet","ScriptPathState","URI","containsNode","ge","goOrReplace","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("PageletGK").destroyDomAfterEventHandler,m,n=0;function o(a,c){var d=b("ge")(a);if(!d)return;c||(d.style.minHeight="100px");c=b("PageletSet").getPageletIDs();for(var e=0;e<c.length;e++){var f=c[e];if(b("PageletSet").hasPagelet(f)){var g=b("PageletSet").getPagelet(f);b("containsNode")(d,g.getRoot())&&b("PageletSet").removePagelet(f)}}b("Arbiter").inform(b("PageEvents").AJAXPIPE_ONBEFORECLEARCANVAS,{canvasID:a});function h(a){var c=b("ContextualComponent").forNode(a);c&&c.unmount();b("DOM").empty(a)}l?(b("Arbiter").inform("pagelet/destroy",{id:null,root:d}),h(d)):(h(d),b("Arbiter").inform("pagelet/destroy",{id:null,root:d}))}function p(a,c){a=b("ge")(a);a&&!c&&(a.style.minHeight="100px")}c=function(){"use strict";function c(a,c,d){this._allowIrrelevantRequests=!1;this._canvas_id=a;this._uri=c;this._query_data=d;a=new(b("AsyncRequest"))();a.disableInteractionServerTracing();a.setReplaceTransportMarkers(!1);this._request=a;this._allow_cross_page_transition=!0;this._arbiter=new(b("Arbiter"))();this._requestID=n++}var d=c.prototype;d.getArbiter=function(){return this._arbiter};d.setData=function(a){this._query_data=a;return this};d.getData=function(){return this._query_data};d.setAllowCrossPageTransition=function(a){this._allow_cross_page_transition=a;return this};d.setAppend=function(a){this._append=a;return this};d._getAsyncRequestType=function(){return b("AsyncRequestConfig").useFetchStreamAjaxPipeTransport?"useFetchWithIframeFallback":"useIframeTransport"};d.send=function(){this._arbiter.inform(b("PageEvents").AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:(h||(h=b("performanceAbsoluteNow")))()},"persistent");var a={ajaxpipe:1,ajaxpipe_token:(i||(i=b("Env"))).ajaxpipe_token};Object.assign(a,b("ScriptPathState").getParams());b("ScriptPathState").reset();var c=this._request;if(c==null)return this;c.setOption(this._getAsyncRequestType(),!0).delayPreDisplayJS().setURI(this._uri).setData(Object.assign(a,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);this._automatic?this._relevantRequest=m:m=this._request;if(this._isQuickling){a=(j||(j=b("performance"))).clearResourceTimings||(j||(j=b("performance"))).webkitClearResourceTimings;a&&a.call(j||(j=b("performance")))}c.send();return this};d._preBootloadFirstResponse=function(a){return!1};d._fireDomContentCallback=function(){var a=this._request;a&&a.cavalry&&a.cavalry.setTimeStamp("t_domcontent");this._arbiter.inform(b("PageEvents").AJAXPIPE_DOMREADY,!0,"state")};d._fireOnloadCallback=function(){window.console&&console.timeStamp&&console.timeStamp('perf_trace {"name": "e2e", "parent": "PageEvents.AJAXPIPE_ONLOAD"}');var a=this._request;a!=null&&a.cavalry&&(a.cavalry.setTimeStamp("t_hooks"),a.cavalry.setTimeStamp("t_layout"),a.cavalry.setTimeStamp("t_onload"));this._arbiter.inform(b("PageEvents").AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:(h||(h=b("performanceAbsoluteNow")))()},"state")};d._isRelevant=function(a){return this._request===m||this._automatic&&this._relevantRequest===m||this._jsNonBlock||m!=null&&m.getAllowIrrelevantRequests()};d._preBootloadHandler=function(a){var c=this._request,d=a.getPayload();if(!d||d.redirect||!this._isRelevant(a))return!1;var e=!1;a.is_first&&(!this._append&&!this._displayCallback&&!d.isCometResponse&&o(this._canvas_id,this._constHeight),e=this._preBootloadFirstResponse(a),c!=null||g(0,36),this.pipe=new(b("BigPipe"))({config:d.bigPipeConfig,arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:c.lid,rid:this._requestID,isAjax:!0,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:b("PageEvents").AJAXPIPE_DOMREADY,onloadEvt:b("PageEvents").AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests}),this.pipe.setPageID(c.lid));return e};d._redirect=function(c){if(c.redirect){if(c.force||!this.isPageActive(c.redirect)){var d=["ajaxpipe","ajaxpipe_token"].concat(this.getSanitizedParameters());b("goOrReplace")(window.location,new(k||(k=b("URI")))(c.redirect).removeQueryData(d),!0)}else{d=a.PageTransitions;d.go(c.redirect,!0)}return!0}else return!1};d.isPageActive=function(a){return!0};d.getSanitizedParameters=function(){return[]};d._versionCheck=function(a){return!0};d._onInitialResponse=function(a){var b=a.getPayload();if(!this._isRelevant(a))return!1;if(!b)return!0;return this._redirect(b)||!this._versionCheck(b)?!1:!0};d._processFirstResponse=function(a){this._arbiter.inform(b("PageEvents").AJAXPIPE_FIRST_RESPONSE,{lid:this.pipe.lid,quickling:!!this._isQuickling});a=a.getPayload();var c=b("ge")(this._canvas_id);a=a.canvas_class;c!=null&&a!=null&&b("CSS").setClass(c,a)};d.setFirstResponseCallback=function(a){this._firstResponseCallback=a;return this};d.setFirstResponseHandler=function(a){this._processFirstResponse=a;return this};d._onResponse=function(a){var c=a.payload;if(!this._isRelevant(a))return b("AsyncRequest").suppressOnloadToken;a.is_first&&(this._processFirstResponse(a),this._firstResponseCallback&&this._firstResponseCallback(),c.provides=c.provides||[],c.provides.push("uipage_onload"));if(c){if("content"in c.content){this._append&&(c.append=this._canvas_id);var d=c.content.content;delete c.content.content;c.content[this._canvas_id]=d}this.pipe.onPageletArrive(c)}a.is_last&&p(this._canvas_id,this._constHeight);return b("AsyncRequest").suppressOnloadToken};d.setNectarModuleDataSafe=function(a){this._request!=null&&this._request.setNectarModuleDataSafe(a);return this};d.setFinallyHandler=function(a){this._request!=null&&this._request.setFinallyHandler(a);return this};d.setErrorHandler=function(a){this._request!=null&&this._request.setErrorHandler(a);return this};d.setTransportErrorHandler=function(a){this._request!=null&&this._request.setTransportErrorHandler(a);return this};d.setResetHandler=function(a){this._resetHandler=a;return this};d.abort=function(){this._request!=null&&this._request.abort();this._reset();return this};d.abandon=function(){this._request!=null&&this._request.abandon();this._reset();return this};d._reset=function(){m==this._request&&(m=null),this._request=null,this._resetHandler&&this._resetHandler()};d.setJSNonBlock=function(a){this._jsNonBlock=a;return this};d.setAutomatic=function(a){this._automatic=a;return this};d.setDisplayCallback=function(a){this._displayCallback=a;return this};d.setConstHeight=function(a){this._constHeight=a;return this};d.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};d.getAsyncRequest=function(){return this._request};c.getCurrentRequest=function(){return m};c.setCurrentRequest=function(a){m=a};return c}();c.clearCanvas=o;e.exports=c}),null);
__d("BanzaiBase",["BanzaiAdapter","BanzaiCompressionUtils","BanzaiConsts","BanzaiLazyQueue","BanzaiUtils","CurrentUser","ErrorGuard","ExecutionEnvironment","FBLogger","NavigationMetrics","SetIdleTimeoutAcrossTransitions","Visibility","WebSession","performanceAbsoluteNow"],(function(a,b,c,d,e,f){var g,h,i,j="categorized_ods",k="blue_send_via_beacon_failure";c="blue_messages_received";d="blue_messages_sent";var l="blue_total_messages_received",m="blue_total_messages_sent",n={received:c,sent:d},o,p,q=[],r=null,s=0,t=0,u=0,v=0,w={_clearPostBuffer:function(){q=[]},_gatherWadsAndPostsFromBuffer:function(a,c,d,e,f){var g={currentSize:0,keepRetryable:d,overlimit:!1,sendMinimumOnePost:f,wadMap:new Map()};d=e.filter(function(d,e){return b("BanzaiUtils").filterPost(d,a,c,g)});g.overlimit&&d.length&&w._schedule(0);if(c.length+t+s!==0){s+=2;f=c.length+t+2;u+=2;v+=c.length+2;w.counterTracker("received",s,a,c);w.counterTracker("sent",f,a,c)}s=0;t=0;return d},_getEventTime:function(){return(g||(g=b("performanceAbsoluteNow")))()},_getWebSessionId:function(){return b("WebSession").getId()},_getPostBuffer:function(){return q},_getUserId:function(){return b("CurrentUser").getID()},_getAppId:function(){return b("CurrentUser").getAppID()},_initialize:function(){b("ExecutionEnvironment").canUseDOM&&(w.adapter.useBeacon&&b("Visibility").isSupported()?(b("Visibility").addListener(b("Visibility").HIDDEN,function(){w._getPostBuffer().length>0&&(w._tryToSendViaBeacon()||w._store(!1))}),w.isEnabled("enable_client_logging_clear_on_visible")&&b("Visibility").addListener(b("Visibility").VISIBLE,function(){w._tryToSendViaBeacon()||w._restore(!1)})):w.adapter.setHooks(w),w.adapter.setUnloadHook(w),b("NavigationMetrics").addListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,c){if(c.pageType!=="normal")return;w._restore(!1);b("NavigationMetrics").removeCurrentListener()}))},_sendBeacon:function(b,c){return a.navigator.sendBeacon(b,c)},_prepForTransit:function(a){var c=new FormData();c.append("ts",String(Date.now()));var d={};Object.keys(d).sort().forEach(function(a){var b=d[a];if(b===void 0)return;if(b===null){c.append(a,"");return}c.append(a,String(b))});var e=b("BanzaiCompressionUtils").outOfBandsPosts(a);Object.keys(e).forEach(function(a){c.append(a,e[a])});c.append("q",JSON.stringify(a));return c},_prepWadForTransit:function(a){b("BanzaiCompressionUtils").compressWad(a,b("BanzaiAdapter").preferredCompressionMethod())},_processCallbacksAndSendViaBeacon:function(){var a=[],c=[],d=[];w._gatherWadsAndPostsFromBuffer(c,d,!0,a,!1);if(c.length>0){c[0].send_method="beacon";c.map(w._prepWadForTransit);d=w._prepForTransit(c);a=b("BanzaiAdapter").getEndPointUrl(!0);c=w._sendBeacon(a,d);c||b("FBLogger")("banzai").warn("Error sending beacon")}},_restore:function(a){a=b("BanzaiAdapter").getStorage();var c=function(a){q.push(a)};(h||(h=b("ErrorGuard"))).applyWithGuard(a.restore,a,[c]);w._schedule(b("BanzaiAdapter").config.RESTORE_WAIT||(i||(i=b("BanzaiConsts"))).VITAL_WAIT)},_schedule:function(a){var c=w._getEventTime()+a;if(!p||c<p){p=c;b("SetIdleTimeoutAcrossTransitions").clear(o);o=b("SetIdleTimeoutAcrossTransitions").start(b("BanzaiAdapter").wrapInTimeSlice(w._sendWithCallbacks,"Banzai.send"),a);return!0}return!1},_sendWithCallbacks:function(a,c){p=null;w._schedule(w.BASIC.delay);if(!b("BanzaiAdapter").readyToSend()){c&&c();return}if(w.isEnabled("flush_storage_periodically")){var d=b("BanzaiAdapter").getStorage(),e=function(){w._restore(!1)};(h||(h=b("ErrorGuard"))).applyWithGuard(d.flush,d,[e])}b("BanzaiAdapter").inform((i||(i=b("BanzaiConsts"))).SEND);d=[];var f=[];q=w._gatherWadsAndPostsFromBuffer(d,f,!0,q,!0);if(d.length<=0){b("BanzaiAdapter").inform((i||(i=b("BanzaiConsts"))).OK);a&&a();return}d[0].trigger=r;r=null;d[0].send_method="ajax";d.map(w._prepWadForTransit);b("BanzaiAdapter").send(w._prepForTransit(d),function(){f.forEach(function(a){a=a;a.__meta.status=(i||(i=b("BanzaiConsts"))).POST_SENT;a.__meta.callback&&a.__meta.callback()}),a&&a()},function(a){f.forEach(function(c){b("BanzaiUtils").retryPost(c,a,q)}),c&&c()})},_store:function(a){a=b("BanzaiAdapter").getStorage();(h||(h=b("ErrorGuard"))).applyWithGuard(a.store,a,[q])},_testState:function(){return{postBuffer:q,triggerRoute:r}},_tryToSendViaBeacon:function(){if(!(navigator&&navigator.sendBeacon&&b("BanzaiAdapter").isOkToSendViaBeacon()))return!1;var a=[],c=[];q=w._gatherWadsAndPostsFromBuffer(a,c,!1,q,!1);if(a.length<=0)return!1;a[0].send_method="beacon";a.map(w._prepWadForTransit);a=w._prepForTransit(a);var d=b("BanzaiAdapter").getEndPointUrl(!0);d=w._sendBeacon(d,a);if(!d){c.forEach(function(a){q.push(a)});q.push(b("BanzaiUtils").wrapData(j,{2979:{banzai:(a={},a[k]=[1],a)}},w._getEventTime()));return!1}return!0},_unload:function(){var a,c;u+=2;v+=2;a=b("BanzaiUtils").wrapData(j,{2979:{banzai:(a={},a[l]=[u],a)}},w._getEventTime(),!0);c=b("BanzaiUtils").wrapData(j,{2979:{banzai:(c={},c[m]=[v],c)}},w._getEventTime(),!0);q.unshift(a,c);navigator&&navigator.sendBeacon&&b("BanzaiAdapter").isOkToSendViaBeacon()&&w._processCallbacksAndSendViaBeacon();b("BanzaiAdapter").cleanup();b("BanzaiAdapter").inform((i||(i=b("BanzaiConsts"))).SHUTDOWN);q.length>0&&((!w.adapter.useBeacon||!w._tryToSendViaBeacon())&&w._store(!1))},BASIC:{delay:b("BanzaiAdapter").config.MAX_WAIT||(i||(i=b("BanzaiConsts"))).BASIC_WAIT},BASIC_WAIT:(i||(i=b("BanzaiConsts"))).BASIC_WAIT,ERROR:i.ERROR,OK:i.OK,SEND:i.SEND,SHUTDOWN:i.SHUTDOWN,VITAL:{delay:b("BanzaiAdapter").config.MIN_WAIT||(i||(i=b("BanzaiConsts"))).VITAL_WAIT},VITAL_WAIT:i.VITAL_WAIT,adapter:b("BanzaiAdapter"),canUseNavigatorBeacon:function(){return Boolean(navigator&&navigator.sendBeacon&&b("BanzaiAdapter").isOkToSendViaBeacon())},counterTracker:function(a,c,d,e){var f;c=c;a=b("BanzaiUtils").wrapData(j,{2979:{banzai:(f={},f[n[a]]=[c],f)}},w._getEventTime(),!0);e.push(a);d.push({webSessionId:w._getWebSessionId(),posts:[a],needs_compression:!0,user:w._getUserId(),app_id:w._getAppId()})},flush:function(a,c){b("SetIdleTimeoutAcrossTransitions").clear(o),w._sendWithCallbacks(a,c)},isEnabled:function(a){return Boolean(b("BanzaiAdapter").config.gks&&b("BanzaiAdapter").config.gks[a])},post:function(a,c,d){var e;a||b("FBLogger")("banzai").mustfix("Banzai.post called without specifying a route");var f=(e=JSON.stringify(c))!=null?e:"",g=d==null?void 0:d.retry;if(b("BanzaiAdapter").config.disabled)return;if(!b("ExecutionEnvironment").canUseDOM&&!b("ExecutionEnvironment").isInWorker)return;var h=w.adapter.getTopLevel();if(h){var j;try{j=h.require("Banzai")}catch(a){j=null}if(j){j.post.apply(j,arguments);return}}var k=b("BanzaiAdapter").config.blacklist;if(k&&(k.indexOf&&(typeof k.indexOf=="function"&&k.indexOf(a)!=-1)))return;var l=f.length;s++;u++;var m=b("BanzaiUtils").wrapData(a,c,w._getEventTime(),g,l),n=m;(d==null?void 0:d.callback)&&(n.__meta.callback=d==null?void 0:d.callback);(d==null?void 0:d.compress)!=null&&(n.__meta.compress=d==null?void 0:d.compress);var o=d==null?void 0:d.delay;o==null&&(o=(i||(i=b("BanzaiConsts"))).BASIC_WAIT);if(d==null?void 0:d.signal){n.__meta.status=(i||(i=b("BanzaiConsts"))).POST_INFLIGHT;var p=[{user:w._getUserId(),webSessionId:w._getWebSessionId(),app_id:w._getAppId(),posts:[m],trigger:a}];b("BanzaiAdapter").send(w._prepForTransit(p),function(){v++,t++,n.__meta.status=(i||(i=b("BanzaiConsts"))).POST_SENT,n.__meta.callback&&n.__meta.callback()},function(a){b("BanzaiUtils").retryPost(m,a,q)},!0);if(!g)return}q.push(m);(w._schedule(o)||!r)&&(r=a);var x=b("BanzaiLazyQueue").flushQueue();x.forEach(function(a){return w.post.apply(w,a)})},subscribe:b("BanzaiAdapter").subscribe};w._initialize();e.exports=w}),null);