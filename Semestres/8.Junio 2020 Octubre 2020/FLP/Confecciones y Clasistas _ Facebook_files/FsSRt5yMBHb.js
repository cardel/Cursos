if (self.CavalryLogger) { CavalryLogger.start_js(["X8wn+"]); }

__d("useCometInspirationsCustomFont_customFont.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometInspirationsCustomFont_customFont",selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null}],type:"InspirationsCustomFont",abstractKey:null};e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedFormattedTextRenderer_message",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextWithEntities",abstractKey:null};e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer_metadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:500}],b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometFeedFormattedTextRenderer_metadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null}],type:"TextFormatMetadata",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={kind:"InlineFragment",selections:[e],type:"Node",abstractKey:"__isNode"},g={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},h=[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:500}],i=[d];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[a,b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},f],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[c,{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null},f],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[e,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},f],storageKey:null},a,b],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:h,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:h,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},e],storageKey:null}],storageKey:null},e],storageKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"}]}}();e.exports=a}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedFormattedTextRenderer_message"},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometInspirationsCustomFont_customFont"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedFormattedTextRenderer_metadata"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"}],type:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy",abstractKey:null};e.exports=a}),null);
__d("cometHexToRgba",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=parseInt(a.substring(0,2),16)/255,c=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16);a=parseInt(a.substring(6,8),16);return"rgba("+c+","+d+","+a+","+b+")"}}),null);
__d("useCometInspirationsCustomFont",["CometRelay","promiseDone","useCometInspirationsCustomFont_customFont.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=new Set();function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometInspirationsCustomFont_customFont.graphql"),a);if(a==null)return null;var c=a.font_name;a=a.font_url;if(c==null||a==null)return null;if(!h.has(c)){h.add(c);var d=typeof document.fonts==="object"&&typeof FontFace==="function";if(d&&a!=null){d=new FontFace(c,"url("+a+")");b("promiseDone")(d.load(),function(a){window.document.fonts.add(a)})}}return c}}),null);
__d("useCometFeedFormattedTextRenderer",["CometRelay","React","UnicodeUtils","cometHexToRgba","useCometFeedFormattedTextRenderer_message.graphql","useCometFeedFormattedTextRenderer_metadata.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=b("React"),k=30;function l(a,b,c){var d="";switch(c){case"BOTTOM_TOP":d="to top";break;case"BL_TR":d="45deg";break;case"LEFT_RIGHT":d="to right";break;case"TL_BR":d="135deg";break;case"TR_BL":d="225deg";break;case"RIGHT_LEFT":d="to left";break;case"BR_TL":d="315deg";break;case"TOP_BOTTOM":default:d="to bottom";break}return"linear-gradient("+d+","+a+","+b+")"}function m(a){switch(a){case"normal":return"normal";case"bold":default:return"bold"}}function n(a){if(a==null||a.length===0)return k;a=(i||(i=b("UnicodeUtils"))).strlen(a);if(a>360)return 16;return a>180?24:k}function a(a,c,d){d===void 0&&(d=!1);a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometFeedFormattedTextRenderer_message.graphql"),a);c=b("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedFormattedTextRenderer_metadata.graphql"),c);var e=a==null?void 0:a.text;a=j.useMemo(function(){return n(e)},[e]);if(c==null)return{avatarStoryTextFormatId:null,backgroundStyle:null,fontSize:a,textColor:null,textStyle:null};var f=c.avatar_story_text_format_id,i=c.background_color,k=c.background_gradient_color,o=c.background_gradient_direction,p=c.background_image,q=c.color,r=c.font_style,s=c.font_weight,t=c.portrait_background_image;c=c.text_align;var u={backgroundColor:i!=null?b("cometHexToRgba")(i):null};p=p==null?void 0:p.uri;t=t==null?void 0:t.uri;if(p!=null)d&&t!=null?u.backgroundImage="url("+t+")":u.backgroundImage="url("+p+")",u.backgroundPosition="center center",u.backgroundSize="cover";else if(k!=null&&i!=null){d=b("cometHexToRgba")(i);t=b("cometHexToRgba")(k);u.backgroundImage=l(d,t,o)}p=q!=null?b("cometHexToRgba")(q):null;i={color:p,fontSize:a+"px",fontStyle:r,fontWeight:m(s),textAlign:c};return{avatarStoryTextFormatId:f,backgroundStyle:u,fontSize:a,textColor:p,textStyle:i}}}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy.react",["BaseText.react","CometEmojiTransform","CometEmoticonTransform","CometFeedARIAProperties.react","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","CometTrackingNodeRenderer","React","stylex","unrecoverableViolation","useCometFeedFormattedTextRenderer","useCometFeedStoryMatchDebugger","useCometInspirationsCustomFont","useCometSeeMoreKeyCommand","CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=420,j=5,k=h.forwardRef(function(a,c){var d=a.expanded,e=a.onToggleExpanded,f=a.renderers,g=a.style,k=a.textWithEntities,l=a.transforms;a=babelHelpers.objectWithoutPropertiesLoose(a,["expanded","onToggleExpanded","renderers","style","textWithEntities","transforms"]);return h.jsx("div",babelHelpers["extends"]({className:"j7igg4fr dy7m38rt rqr5e5pd pvbba8z0 sfj4j7ms",style:g},a,{ref:c,children:h.jsx(b("CometTextWithEntitiesRelay.react"),{expanded:d,maxLength:i,maxLines:j,onToggleExpanded:e,renderers:f,textWithEntities:k,transforms:l,truncationStyle:"see-more",withParagraphs:!0})}))}),l=function(a){return function(b){return h.jsx("span",{className:"quwhnjym oo483o9r",style:{color:a},children:b})}},m=g!==void 0?g:g=b("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql");function a(a){a=b("CometRelay").useFragment(m,a.message);b("useCometFeedStoryMatchDebugger")(a);a=a.story;var c=a==null?void 0:a.message;a=a==null?void 0:a.text_format_metadata;var d=h.useState(!1),e=d[0],f=d[1];d=h.useCallback(function(){f(function(a){return!a})},[]);b("useCometSeeMoreKeyCommand")(e,d);var g=b("useCometFeedFormattedTextRenderer")(c,a,e),i=g.avatarStoryTextFormatId,j=g.backgroundStyle,n=g.fontSize,o=g.textColor;g=g.textStyle;var p=h.useMemo(function(){return[b("CometEmoticonTransform")({size:n}),b("CometEmojiTransform")({size:n}),b("CometLineBreakTransform")]},[n]),q=h.useMemo(function(){var a=[l(o),b("CometLinkedEntityRenderer"),b("CometTrackingNodeRenderer")];return{Event:a,ExternalUrl:a,Group:a,Hashtag:a,Page:a,User:a}},[o]),r=h.useContext(b("CometFeedARIAProperties.react"));a=b("useCometInspirationsCustomFont")(a==null?void 0:a.inspirations_custom_font_object);if(c==null)throw b("unrecoverableViolation")("storyMessage cannot be null in CometFeedStoryFormattedBackgroundMessageRenderingStrategy","comet_feed");g=babelHelpers["extends"]({},g,{fontFamily:a});return h.jsx("div",{className:"k4urcfbm","data-testid":void 0,children:h.jsxs("div",{className:"k4urcfbm l9j0dhe7 jifvfom9 j83agx80 ll8tlv6m",style:j,children:[h.jsxs("div",{"aria-hidden":!0,className:"k4urcfbm",children:[h.jsx("div",{className:i===null?"jsq31si4 bzsjyuwj":"n1ap2d1u bzsjyuwj"}),h.jsx("div",{className:"kr9hpln1",children:h.jsx(k,{expanded:e,renderers:q,style:g,textWithEntities:c,transforms:p})})]}),h.jsx("div",{className:i===null?"k4urcfbm kr520xx4 j9ispegn pmk7jnqg taijpn5t datstx6m cbu4d94t j83agx80 bp9cbjyn":"k4urcfbm kr520xx4 j9ispegn pmk7jnqg taijpn5t hdr16bak cbu4d94t j83agx80 bp9cbjyn",children:h.jsx(k,babelHelpers["extends"]({expanded:e},r.contentTargetProps,{onToggleExpanded:d,ref:r.contentTargetRef,renderers:q,style:g,textWithEntities:c,transforms:p}))}),h.jsx("div",{className:"hzruof5a opwvks06 linmgsc8 kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb"})]})})}}),null);