if (self.CavalryLogger) { CavalryLogger.start_js(["CBQfr"]); }

__d("StoriesCreateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"satpScale"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],e={enumValues:null,nullable:!0,plural:!1,type:"String"},f={enumValues:null,nullable:!0,plural:!1,type:"ID"},g={enumValues:null,nullable:!0,plural:!1,type:"Float"},h={enumValues:null,nullable:!0,plural:!1,type:"Image"},i={enumValues:null,nullable:!0,plural:!1,type:"Url"},j={enumValues:null,nullable:!0,plural:!1,type:"Color"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesCreateQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[b],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormSteps"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesCreateQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websites",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},b],storageKey:null},{"if":null,kind:"Defer",label:"useStoriesCreateFormEditorRoot$defer$StoriesCreateFormSATP",selections:[{alias:null,args:[{kind:"Literal",name:"categories",value:["TEXT_BASE"]}],concreteType:"Collection",kind:"LinkedField",name:"visual_composer_satp_collections",plural:!0,selections:[{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"presets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"preset_id",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"font_postscript_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_font_size",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"satpScale"}],concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"custom_thumbnail",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"collection_name",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:'visual_composer_satp_collections(categories:["TEXT_BASE"])'}]}]},params:{id:"2331148986987785",metadata:{relayPreloadable:!0,relayTestingSelectionTypeInfo:{viewer:{enumValues:null,nullable:!0,plural:!1,type:"Viewer"},"viewer.actor":{enumValues:null,nullable:!0,plural:!1,type:"Actor"},"viewer.actor.__typename":{enumValues:null,nullable:!1,plural:!1,type:"String"},"viewer.actor.address":{enumValues:null,nullable:!0,plural:!1,type:"StreetAddress"},"viewer.actor.address.single_line_full_address":e,"viewer.actor.all_phones":{enumValues:null,nullable:!1,plural:!0,type:"Phone"},"viewer.actor.all_phones.phone_number":{enumValues:null,nullable:!0,plural:!1,type:"PhoneNumber"},"viewer.actor.all_phones.phone_number.universal_number":e,"viewer.actor.id":f,"viewer.actor.location":{enumValues:null,nullable:!0,plural:!1,type:"Location"},"viewer.actor.location.latitude":g,"viewer.actor.location.longitude":g,"viewer.actor.name":e,"viewer.actor.profile_picture":h,"viewer.actor.profile_picture.uri":i,"viewer.actor.websites":{enumValues:null,nullable:!1,plural:!0,type:"Url"},"viewer.comet_composer_video_uploader_config":e,visual_composer_satp_collections:{enumValues:null,nullable:!1,plural:!0,type:"Collection"},"visual_composer_satp_collections.collection_name":{enumValues:null,nullable:!0,plural:!1,type:"TextWithEntities"},"visual_composer_satp_collections.collection_name.text":e,"visual_composer_satp_collections.presets":{enumValues:null,nullable:!1,plural:!0,type:"TextFormatMetadata"},"visual_composer_satp_collections.presets.background_color":j,"visual_composer_satp_collections.presets.background_description":e,"visual_composer_satp_collections.presets.background_gradient_color":j,"visual_composer_satp_collections.presets.background_gradient_direction":e,"visual_composer_satp_collections.presets.color":j,"visual_composer_satp_collections.presets.custom_thumbnail":h,"visual_composer_satp_collections.presets.custom_thumbnail.uri":i,"visual_composer_satp_collections.presets.inspirations_custom_font_object":{enumValues:null,nullable:!0,plural:!1,type:"InspirationsCustomFont"},"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_name":e,"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_postscript_name":e,"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_url":i,"visual_composer_satp_collections.presets.inspirations_custom_font_object.id":f,"visual_composer_satp_collections.presets.inspirations_custom_font_object.preferred_font_size":{enumValues:null,nullable:!0,plural:!1,type:"Int"},"visual_composer_satp_collections.presets.portrait_background_image":h,"visual_composer_satp_collections.presets.portrait_background_image.uri":i,"visual_composer_satp_collections.presets.preset_id":f}},name:"StoriesCreateQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("StoriesCreateFormBodyWrapper_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesCreateFormBodyWrapper_data",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormEditorRoot.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormEditorRoot",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateCTALink"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateFormSATP"}]},{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormSteps.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormSteps",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormEditorRoot"},{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormTypeChooser"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormTypeChooser.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormTypeChooser",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("StoriesCreateSATPPreviewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"cardID"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"id",variableName:"cardID"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},g=[f],h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},k={kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"};f={alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[i,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},k],storageKey:null}],storageKey:null};var l={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[i,j,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},n={alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[i,j,m,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[c,{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null},k],storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};o={alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[d,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},k],storageKey:null},i,j],storageKey:null};i={alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[i,j,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null};j={kind:"Variable",name:"scale",variableName:"scale"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesCreateSATPPreviewQuery",selections:[{alias:"card",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryBackgroundInfo",kind:"LinkedField",name:"story_default_background",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_defaultBackground"}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_message"}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_textFormatMetaData"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_story"}],type:"Story",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesCreateSATPPreviewQuery",selections:[{alias:"card",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryBackgroundInfo",kind:"LinkedField",name:"story_default_background",plural:!1,selections:[e,{alias:null,args:null,concreteType:"GradientData",kind:"LinkedField",name:"gradient",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"css",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"portrait_image",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[h,f,l,n,o,i],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},e,{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"font_postscript_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},d],storageKey:null},{alias:null,args:[j],concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"activity_description",plural:!1,selections:[f,l,n,o,i,h],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"InlineActivitiesConnection",kind:"LinkedField",name:"inline_activities",plural:!1,selections:[{alias:null,args:null,concreteType:"InlineActivity",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"TaggableActivityIcon",kind:"LinkedField",name:"taggable_activity_icon",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:16},j,{kind:"Literal",name:"width",value:16}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:g,storageKey:null},d],storageKey:null},d],storageKey:null}],storageKey:"inline_activities(first:1)"},{alias:null,args:null,concreteType:"WithTagsConnection",kind:"LinkedField",name:"with_tags",plural:!1,selections:[m],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"explicit_place",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"entity_id",storageKey:null},k],storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}]},params:{id:"3826670757359408",metadata:{},name:"StoriesCreateSATPPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StoriesComposerCometHeadlessMediaUploader.react",["CometPlaceholder.react","JSResource","React","StoriesCreateViewStateDispatcherContext","lazyLoadComponent","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("CometComposerHeadlessMediaUploaderImpl.react").__setRef("StoriesComposerCometHeadlessMediaUploader.react"));function a(a){var c=a.mediaAttachments,d=a.mediaUploadStatuses;a=a.videoUploaderConfig;var e=g.useContext(b("StoriesCreateViewStateDispatcherContext"));return c!==null?g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx("div",{}),children:g.jsx(h,{dispatch:e,mediaAttachments:c,mediaUploadStatuses:d,videoUploaderConfig:a})}):null}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses}});e.exports=c}),null);
__d("StoriesCreateMediaReducer",["composerMediaAttachmentReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){switch(c.type){case"ADD_MEDIA_ATTACHMENT_ITEMS":case"REMOVE_MEDIA_ATTACHMENT_ITEM":case"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS":case"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED":case"QUEUE_UPLOADS":case"MARK_UPLOADS_CLIENT_PROCESSING":case"MARK_UPLOADS_AS_PHOTO":case"MEDIA_UPLOAD_STARTED":case"MEDIA_UPLOAD_PROGRESS":case"MEDIA_UPLOAD_SUCCESSFUL":case"REORDER_MEDIA_ATTACHMENT_ITEM":case"SAVE_PHOTO_EDITS":case"SET_MEDIA_ATTACHMENT_CAPTION":case"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW":case"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS":case"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS":case"SET_PHOTO3D_CREATION_DATA":c=c;c=b("composerMediaAttachmentReducer")({mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses},c);var d=c.mediaAttachments;c=c.mediaUploadStatuses;return babelHelpers["extends"]({},a,{mediaAttachments:d,mediaUploadStatuses:c})}return a}}),null);
__d("StoriesCreateMediaSelector.react",["ix","fbt","CometFileSelector.react","CometImageFromIXValue.react","CometPressable.react","React","StoriesCreateConstants","StoriesCreateMediaReducer","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","asset","cometPushToast","fbicon","fileInputAcceptValues","isMimeTypeForMedia","stylex","useFileDragEvents","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=2;function a(a){var c=a.onFilesSelect;b("useStoriesCreateReducer")(b("StoriesCreateMediaReducer"));var d=i.useContext(b("StoriesCreateViewStateDispatcherContext"));a=i.useCallback(function(a){if(a.length>0){var e=Array.from(a);for(var f=0;f<a.length;f++){var g=a[f].type;g=!(b("isMimeTypeForMedia").isMimeTypeForVideo(g)&&b("StoriesGating").isCometStoriesVideoProductionEnabled())&&!b("isMimeTypeForMedia").isMimeTypeForPhoto(g);if(g){g=b("StoriesGating").isCometStoriesVideoProductionEnabled()?h._("This file type is not supported. Please select a photo or video instead."):h._("This file type is not supported. Please select a photo instead.");b("cometPushToast").cometPushErrorToast({message:g});return}}d({files:e,type:"ADD_MEDIA_ATTACHMENT_ITEMS"});c(e.map(function(a){return a.type}))}},[d,c]);b("useFileDragEvents")(a);var e=b("fileInputAcceptValues").PHOTO,f=h._("Add photo");b("StoriesGating").isCometStoriesVideoProductionEnabled()&&(e=e.concat(b("fileInputAcceptValues").VIDEO),f=h._("Add photo or video"));var k=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,l=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH;return i.jsx(b("CometFileSelector.react"),{accept:e,onFilesSelected:a,children:function(a){return i.jsx(b("CometPressable.react"),{display:"inline",label:h._("Upload photo"),onPress:a,overlayDisabled:!0,testid:void 0,children:i.jsxs("div",{className:"l9j0dhe7 jm1wdb64 pfnyh3mw kb5gq1qc cbu4d94t j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 bp9cbjyn",style:{height:k,width:l-j},children:[i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb",style:{height:k,width:l},children:i.jsx(b("CometImageFromIXValue.react"),{source:g("1394933")})}),i.jsx("div",{className:"eim337gk op20o8eh l9j0dhe7 taijpn5t qu8okrzs j83agx80 sz7gx65s spb7xbtv bkmhp75w emlxlaya s45kfl79 cwj9ozl2 o8rfisnq bp9cbjyn",children:i.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("481799"),20),size:20})}),i.jsx("div",{className:"k4urcfbm hq1mf54v oqcyycmt l9j0dhe7 lt9micmv gl4o1x5y taijpn5t fdgqbs4u n3ffmt46 qo0gs2wv j83agx80 ljqsnud1 rq0escxv",children:f})]})})}})}}),null);
__d("StoriesCreateNullStateView.react",["ix","fbt","CometImage.react","CometPressable.react","QuickPerformanceLogger","React","StoriesCreateConstants","StoriesCreateMediaSelector.react","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","asset","fbicon","isMimeTypeForMedia","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(){var a=i.useContext(b("StoriesCreateViewStateDispatcherContext")),c=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,d=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH,e=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SPACE_BETWEEN_SELECTOR;i.useEffect(function(){b("QuickPerformanceLogger").markerEnd(13238400,2)},[]);return i.jsxs("div",{className:"i1fnvgqd j83agx80",style:{width:2*d+e},children:[i.jsx(b("StoriesCreateMediaSelector.react"),{onFilesSelect:function(c){var d="photo";b("StoriesGating").isCometStoriesVideoProductionEnabled()&&b("isMimeTypeForMedia").isMimeTypeForVideo(c[0])&&(d="video");a({formData:{mediaType:d,step:1},type:"step"})}}),i.jsx(b("CometPressable.react"),{hideHoverOverlay:!0,onPress:function(){a({formData:{mediaType:"satp",step:1},type:"step"})},children:i.jsxs("div",{className:"cbu4d94t j83agx80 bp9cbjyn","data-testid":void 0,style:{height:c,width:d},children:[i.jsx("div",{className:"k4urcfbm pmk7jnqg stjgntxs ni8dbmo4 datstx6m l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",children:i.jsx(b("CometImage.react"),{height:c,src:g("1394934"),width:d})}),i.jsx("div",{className:"eim337gk op20o8eh l9j0dhe7 taijpn5t qu8okrzs j83agx80 sz7gx65s spb7xbtv bkmhp75w emlxlaya s45kfl79 cwj9ozl2 bp9cbjyn",children:i.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("486064"),20),size:20})}),i.jsx("div",{className:"hq1mf54v l9j0dhe7 n3ffmt46 qo0gs2wv ljqsnud1",children:h._("Add Text Story")})]})})]})}}),null);
__d("StoriesCreatePhotoPreviewFrame.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){var c=a.children,d=a.frameWidth;a=a.rounded;a=a===void 0?!1:a;return g.jsx("div",{className:"pmk7jnqg hzruof5a datstx6m",children:g.jsx("div",{className:"hzruof5a datstx6m",style:{width:d+"px"},children:g.jsx("div",{className:"pmk7jnqg datstx6m rq0escxv ddn55etz todgtsvd mher9iwd okr6w53f"+(a?" l82x9zwi uo3d90p7 pw54ja7n ue3kfks5":""),ref:b,style:{width:d+"px"},children:c})})})}c=g.forwardRef(a);e.exports=c}),null);
__d("useStoriesCreatePreviewDimensions",["CometRouteRenderType","StoriesCreateConstants","useCometWindowSize"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d,e=(d=b("StoriesCreateConstants")).PREVIEW_DIMENSIONS.COMET_PUSH_VIEW_HEIGHT,f=d.PREVIEW_DIMENSIONS.COMET_TOP_BAR_HEIGHT,g=d.PREVIEW_DIMENSIONS.CONTAINER_HORIZONTAL_PADDING,h=d.PREVIEW_DIMENSIONS.CONTAINER_MAX_WIDTH,i=d.PREVIEW_DIMENSIONS.CONTAINER_VERTICAL_PADDING,j=d.PREVIEW_DIMENSIONS.CONTENT_HEADER_HEIGHT,k=d.PREVIEW_DIMENSIONS.CONTENT_HORIZONTAL_PADDING,l=d.PREVIEW_DIMENSIONS.CONTENT_VERTICAL_PADDING;d=d.PREVIEW_DIMENSIONS.SIDE_PANE_WIDTH;var m=b("CometRouteRenderType").useIsPushView(),n=b("useCometWindowSize")(),o=n.innerHeight;n=n.innerWidth;h=Math.min(h,n-g-k-d);n=o-i-l-j-a-c;n-=m?e:f;return{containerRectHeight:n,containerRectWidth:h}}}),null);
__d("useStoriesCreateMediaFrame",["React","useStoriesCreatePreviewDimensions"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){a=a===void 0?{}:a;var c=a.footerHeight;a=a.headerHeight;var d=g.useState(0),e=d[0],f=d[1];d=g.useState(0);var h=d[0],i=d[1];d=b("useStoriesCreatePreviewDimensions")((d=a)!=null?d:0,(a=c)!=null?a:0);var j=d.containerRectHeight,k=d.containerRectWidth;g.useEffect(function(){var a=j*.5625;i(a);f(Math.max(k-a,0)/2)},[j,k]);return{border:e,containerRectHeight:j,containerRectWidth:k,frameWidth:h}}}),null);
__d("useStoriesCreatePhotoFrame",["StoriesCreateConstants","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return b("useStoriesCreateMediaFrame")({footerHeight:b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,headerHeight:b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT})}}),null);
__d("StoriesCreatePhotoPreviewPlaceholder.react",["CollageItemFallback.react","Locale","React","StoriesCreateConstants","StoriesCreatePhotoPreviewFrame.react","stylex","useStoriesCreatePhotoFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(){var a=b("Locale").isRTL(),c=b("useStoriesCreatePhotoFrame")();c=c.frameWidth;var d=b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,e=b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT;return h.jsx("div",{className:"k4urcfbm kr520xx4 pmk7jnqg i09qtzwb l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 tqsryivl",children:h.jsxs("div",{className:(g||(g=b("stylex"))).dedupe({"border-top-start-radius-1":"ue3kfks5","border-top-end-radius-1":"pw54ja7n","border-bottom-end-radius-1":"uo3d90p7","border-bottom-start-radius-1":"l82x9zwi","display-1":"j83agx80","height-1":"alt01wi3","justify-content-1":"taijpn5t","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","position-1":"pmk7jnqg","start-1":"kfkz5moi","transform-0.1":"cj5g2342"},a?{"transform-0.1":"lcn5fozr"}:null),style:{height:"calc(100% - "+(d+e)+"px",top:e+"px",width:c},children:[h.jsx("div",{className:"k4urcfbm",children:h.jsx(b("CollageItemFallback.react"),{fileType:"PHOTO"})}),h.jsx(b("StoriesCreatePhotoPreviewFrame.react"),{frameWidth:c})]})})}}),null);
__d("StoriesCreatePreviewPlaceholder.react",["BaseGlimmer.react","React","StoriesCreateConstants","stylex","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,c=b("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.HEADER_HEIGHT;a=b("useStoriesCreateMediaFrame")({footerHeight:a,headerHeight:c});c=a.frameWidth;return g.jsx("div",{className:"k4urcfbm kr520xx4 j9ispegn pmk7jnqg taijpn5t datstx6m cbu4d94t j83agx80 tqsryivl bp9cbjyn",children:g.jsx("div",{className:"l9j0dhe7 stjgntxs ni8dbmo4 n1l5q3vz n851cfcs datstx6m l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",style:{width:c+"px"},children:g.jsx(b("BaseGlimmer.react"),{className:"k4urcfbm datstx6m",index:0})})})}}),null);
__d("StoriesCreatePreviewUtils",["CometRelayEnvironmentFactory"],(function(a,b,c,d,e,f){"use strict";a=b("CometRelayEnvironmentFactory").createLocalEnvironment();f.storiesCreatePreviewEnvironment=a}),null);
__d("StoriesCreatePreviewRoot.react",["CometPlaceholder.react","CometRelay","CometUFIVideoPlayerUtils","JSResourceForInteraction","React","StoriesCreatePhotoPreviewPlaceholder.react","StoriesCreatePreviewPlaceholder.react","StoriesCreatePreviewUtils","lazyLoadComponent","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreatePhotoPreview.react",{"class":"fluid",name:"Stories Create Photo",oncall:"fb_stories_web"}).__setRef("StoriesCreatePreviewRoot.react")),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateSATPPreview.react",{"class":"fluid",name:"Stories Create SATP",oncall:"fb_stories_web"}).__setRef("StoriesCreatePreviewRoot.react")),j=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateVideoPreview.react",{"class":"fluid",name:"Stories Create Video",oncall:"fb_stories_web"}).__setRef("StoriesCreatePreviewRoot.react"));function a(a){a=a.mediaType;if(a==="photo")return g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx(b("StoriesCreatePhotoPreviewPlaceholder.react"),{}),children:g.jsx(h,{})});else if(a==="video")return g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(b("CometUFIVideoPlayerUtils").CometUFIVideoPlayerStateAndControllerContextProvider,{children:g.jsx(j,{})})});else return g.jsx(b("CometRelay").RelayEnvironmentProvider,{environment:b("StoriesCreatePreviewUtils").storiesCreatePreviewEnvironment,children:g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx(b("StoriesCreatePreviewPlaceholder.react"),{}),children:g.jsx(i,{})})})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);
__d("StoriesCreateVideoUploaderConfigContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c={videoUploaderConfig:null};d=a.createContext(c);e.exports=d}),null);
__d("StoriesCreateFormReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){switch(b.type){case"step":return babelHelpers["extends"]({},a,{formData:b.formData})}return a}}),null);
__d("StoriesCreateFormBodyPlaceholder.react",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.jsx("div",{})}}),null);
__d("StoriesCreateFormBodyWrapper.react",["ix","fbt","CometPlaceholder.react","CometRelay","React","StoriesCreateFormBodyPlaceholder.react","TetraListCell.react","asset","stylex","StoriesCreateFormBodyWrapper_data.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=i!==void 0?i:i=b("StoriesCreateFormBodyWrapper_data.graphql");function a(a){var c,d=a.children;a=a.dataRef;a=b("CometRelay").useFragment(k,a);a=a==null?void 0:(a=a.viewer)==null?void 0:a.actor;c=a==null?void 0:(c=a.profile_picture)==null?void 0:c.uri;var e=h._("{name of the stories creator}",[h._param("name of the stories creator",a==null?void 0:a.name)]);(a==null?void 0:a.name)==null&&(e=h._("Story poster"));return j.jsxs(j.Fragment,{children:[j.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:60,source:{uri:(a=c)!=null?a:g("762679")},type:"profile-photo"},headline:e}),j.jsx("div",{className:"jei6r52m ay7djpcl bfjqzvhc"}),j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("StoriesCreateFormBodyPlaceholder.react"),{}),children:j.jsx("div",{className:"k4urcfbm dati1w0a hv4rvrfc taijpn5t g5gj957u buofh1pr cbu4d94t rj1gh0hx j83agx80 rq0escxv",children:d})})]})}}),null);
__d("StoriesCreateFormPhotoPlaceholder.react",["CometListItemGlimmer.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.jsx("div",{className:"jbcpqwzg aov4n071 fop5sh7t",children:g.jsx(b("CometListItemGlimmer.react"),{imageSize:48,imageStyle:"circle"})})}}),null);
__d("StoriesCreateFormSATPPlaceholder.react",["BaseGlimmer.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.jsxs("div",{className:"rm0tqlba",children:[g.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 se0szajb kzx2olss aot14ch1 p86d2i9g beltcj47",index:0,theme:"dark"}),g.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 e5d9fub0 kzx2olss aot14ch1 p86d2i9g beltcj47",index:1,theme:"dark"}),g.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 i7t6db18 kzx2olss aot14ch1 p86d2i9g beltcj47",index:1,theme:"dark"})]})}}),null);
__d("StoriesCreateSATPReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=a.satpData;c==null&&(c={background:null,backgroundColor:null,backgroundGradientColor:null,backgroundGradientDirection:null,fontColor:null,fontID:null,fontName:null,fontUrl:null,inputError:!1,presetID:null,text:""});switch(b.type){case"satp_update_text":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!1,text:b.text})});case"satp_update_background":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{background:b.background,backgroundColor:b.backgroundColor,backgroundGradientColor:b.backgroundGradientColor,backgroundGradientDirection:b.backgroundGradientDirection,fontColor:b.fontColor,presetID:b.presetID})});case"satp_update_font":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{fontID:b.fontID,fontName:b.fontName,fontUrl:b.fontUrl})});case"satp_update_input_error":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!0})})}return a}}),null);
__d("StoriesCreateSettingButton.react",["ix","fbt","React","StoriesCometPrivacySelectorDialog.entrypoint","TetraCircleButton.react","fbicon","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(){var a=b("useCometEntryPointDialog")(b("StoriesCometPrivacySelectorDialog.entrypoint"),{}),c=a[0];return i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("497567"),20),label:h._("settings"),onPress:function(){c({onClose:function(){}})},size:36})}}),null);
__d("useStoriesCreateFormEditorRoot",["fbt","CometPlaceholder.react","CometRelay","JSResource","React","StoriesCreateFormPhotoPlaceholder.react","StoriesCreateFormSATPPlaceholder.react","StoriesCreateSATPReducer","lazyLoadComponent","requireCond","cr:1448152","StoriesCreateViewStateContext","StoriesCreateSettingButton.react","StoriesCreateFormBodyWrapper.react","useStoriesCreateReducer","useStoriesCreateFormEditorRoot.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("StoriesCreateFormSATP.react").__setRef("useStoriesCreateFormEditorRoot")),k=b("lazyLoadComponent")(b("JSResource")("StoriesCreateFormPhoto.react").__setRef("useStoriesCreateFormEditorRoot")),l=b("lazyLoadComponent")(b("JSResource")("StoriesCreateFormVideo.react").__setRef("useStoriesCreateFormEditorRoot")),m=h!==void 0?h:h=b("useStoriesCreateFormEditorRoot.graphql");function a(a,c){var d=i.useContext(b("StoriesCreateViewStateContext"));a=b("CometRelay").useFragment(m,a);b("useStoriesCreateReducer")(b("StoriesCreateSATPReducer"));d=d.formData;var e=i.jsx("div",{children:g._("TO BE IMPLEMENTED (step two)")});switch(d==null?void 0:d.mediaType){case"satp":e=i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(b("StoriesCreateFormSATPPlaceholder.react"),{}),children:i.jsx(j,{satp:a})})});break;case"photo":e=i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(b("StoriesCreateFormPhotoPlaceholder.react"),{}),children:i.jsx(k,{dataRef:a})})});break;case"video":e=i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx(l,{})})}return{body:e,footer:i.jsx(b("cr:1448152"),{videoUploaderConfig:c}),hideBreadcrumb:!0,title:g._("Your story"),titleAddOn:i.jsx(b("StoriesCreateSettingButton.react"),{})}}}),null);
__d("useStoriesCreateFormTypeChooser",["fbt","CometRelay","React","StoriesCreateFormBodyWrapper.react","StoriesCreateSettingButton.react","useStoriesCreateFormTypeChooser.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=h!==void 0?h:h=b("useStoriesCreateFormTypeChooser.graphql");function a(a){a=b("CometRelay").useFragment(j,a);return{body:i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx("div",{})}),footer:i.jsx("div",{}),hideBreadcrumb:!0,title:g._("Your story"),titleAddOn:i.jsx(b("StoriesCreateSettingButton.react"),{})}}}),null);
__d("useStoriesCreateFormSteps",["CometRelay","StoriesCreateFormReducer","useStoriesCreateFormEditorRoot","useStoriesCreateFormTypeChooser","useStoriesCreateReducer","useStoriesCreateFormSteps.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("useStoriesCreateFormSteps.graphql");function a(a,c){b("useStoriesCreateReducer")(b("StoriesCreateFormReducer"));a=b("CometRelay").useFragment(h,a);var d=b("useStoriesCreateFormTypeChooser")(a);a=b("useStoriesCreateFormEditorRoot")(a,c);return[d,a]}}),null);
__d("StoriesCreate.react",["fbt","CometCreationLayout.react","CometRelay","FBLogger","NullStateMedia","React","StoriesComposerCometHeadlessMediaUploader.react","StoriesCreateMediaReducer","StoriesCreateNullStateView.react","StoriesCreatePreviewRoot.react","StoriesCreateVideoUploaderConfigContext","TetraNullState.react","XCometStoriesCreateControllerRouteBuilder","cometComposerLogger","useRoutePassthroughProps","useStoriesCreateFormSteps","useStoriesCreateReducer","withStoriesCreateViewStatePart","StoriesCreateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=h!==void 0?h:h=b("StoriesCreateQuery.graphql");function a(a){var c,d=a.composerSessionID,e=a.queryReference;a=a.step;e=b("CometRelay").usePreloadedQuery(j,e);b("useStoriesCreateReducer")(b("StoriesCreateMediaReducer"));var f=b("useRoutePassthroughProps")();i.useEffect(function(){var a=f&&f.entryPoint!=null&&f.sourceSurface!=null?{composerEntryPointName:String(f.entryPoint),composerSourceSurface:String(f.sourceSurface),composerType:"stories"}:{composerEntryPointName:"add_to_story_stories_surface",composerSourceSurface:"newsfeed",composerType:"stories"};b("cometComposerLogger")({fields:a,type:"COMPOSER_ENTRY"},d)},[]);var h=e==null?void 0:(c=e.viewer)==null?void 0:c.comet_composer_video_uploader_config;c=i.useMemo(function(){if(h==null)return{};try{return JSON.parse(h)}catch(a){b("FBLogger")("fbstories").info("Failed to parse JSON in video uploader config");return{}}},[h]);e=b("useStoriesCreateFormSteps")(e,c);e={creationCategoryName:g._("Stories"),creationCategoryURL:b("XCometStoriesCreateControllerRouteBuilder").buildURL({}),currentFormStep:a,formAreaTitle:g._("Stories creation form"),formSteps:e,previewAreaTitle:g._("Stories creation preview"),previewContainerProps:{allowFocus:!0,hasResponsiveToggle:!1}};if(a===0){e=babelHelpers["extends"]({},e,{previewNullState:i.jsx(b("StoriesCreateNullStateView.react"),{})});return i.jsx(b("CometCreationLayout.react"),babelHelpers["extends"]({},e))}else e=babelHelpers["extends"]({},e,{preview:i.jsx(b("StoriesCreateVideoUploaderConfigContext").Provider,{value:{videoUploaderConfig:c},children:i.jsx(b("StoriesCreatePreviewRoot.react"),{})}),previewErrorFallback:function(){return i.jsx(b("TetraNullState.react"),{headline:g._("Create stories"),icon:b("NullStateMedia")})}});return i.jsxs(i.Fragment,{children:[i.jsx(b("StoriesComposerCometHeadlessMediaUploader.react"),{videoUploaderConfig:c}),i.jsx(b("CometCreationLayout.react"),babelHelpers["extends"]({},e))]})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,step:((a=a.formData)==null?void 0:a.step)||0}});e.exports=c}),null);
__d("StoriesCreateRootPlaceholder.react",["fbt","BaseGlimmer.react","CometContentArea.react","CometLeftRailAndMainContentContainer.react","CometLeftRailBreadcrumbs.react","CometLeftRailComponent.react","CometLeftRailHeader.react","CometListItemGlimmer.react","React","StoriesCreateConstants","StoriesCreateSettingButton.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){var a=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,c=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH,d=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SPACE_BETWEEN_SELECTOR;a={height:a,width:c};c=h.jsxs("div",{className:"i1fnvgqd j83agx80",style:{width:2*c+d},children:[h.jsx("div",{style:a,children:h.jsx(b("BaseGlimmer.react"),{className:"k4urcfbm datstx6m cbu4d94t j83agx80 kzx2olss aot14ch1 p86d2i9g beltcj47 bp9cbjyn",index:0,theme:"dark"})}),h.jsx("div",{style:a,children:h.jsx(b("BaseGlimmer.react"),{className:"k4urcfbm datstx6m cbu4d94t j83agx80 kzx2olss aot14ch1 p86d2i9g beltcj47 bp9cbjyn",index:1,theme:"dark"})})]});d=g._("Your story");return h.jsx(b("CometLeftRailAndMainContentContainer.react"),{leftRailContent:h.jsx(b("CometLeftRailComponent.react"),{header:h.jsx(b("CometLeftRailHeader.react"),{auxiliary:h.jsx(b("StoriesCreateSettingButton.react"),{}),meta:h.jsx(b("CometLeftRailBreadcrumbs.react"),{breadcrumbs:[{label:g._("Stories"),onPress:void 0}]}),title:d}),primaryNav:h.jsxs("div",{children:[h.jsx(b("CometListItemGlimmer.react"),{imageSize:60,imageStyle:"circle"}),h.jsx("div",{className:"jei6r52m ay7djpcl pwoa4pd7"})]})}),leftRailHeading:d,leftRailPrimary:!0,mainContent:h.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:c}),mainContentHeading:d})}}),null);
__d("StoriesCreatePreviewUpdater",["StoriesCreatePreviewUtils","StoriesCreateSATPPreviewQuery.graphql","WebPixelRatio","relay-runtime"],(function(a,b,c,d,e,f){"use strict";f.updateStoriesPreview=a;function g(a){return b("relay-runtime").createOperationDescriptor(b("StoriesCreateSATPPreviewQuery.graphql"),{cardID:a,scale:b("WebPixelRatio").get()})}function h(a){var b,c="32FFFFFF";if((a==null?void 0:(b=a.satpData)==null?void 0:b.text)!=null&&(a==null?void 0:(b=a.satpData)==null?void 0:b.text.length)>0){c=(b=a==null?void 0:a.satpData.fontColor)!=null?b:"FFFFFFFF"}return{card:{__typename:"Story",activity_description:null,explicit_place:null,id:"add_later",inline_activities:{nodes:[]},message:{aggregated_ranges:[],color_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:[],text:(a==null?void 0:(b=a.satpData)==null?void 0:b.text)||""},story_default_background:{color:"FF2B2D34",gradient:{css:"linear-gradient(135deg,rgba(43,45,52,1.00) 0%,rgba(19,19,19,1.00) 100%)"},portrait_image:null},text_format_metadata:{background_color:(a==null?void 0:(b=a.satpData)==null?void 0:b.backgroundColor)||null,background_gradient_color:(a==null?void 0:(b=a.satpData)==null?void 0:b.backgroundGradientColor)||null,background_gradient_direction:(a==null?void 0:(b=a.satpData)==null?void 0:b.backgroundGradientDirection)||null,color:c,font_style:"NORMAL",font_weight:"BOLD",inspirations_custom_font_object:{font_postscript_name:(a==null?void 0:(b=a.satpData)==null?void 0:b.fontName)||null,font_url:(a==null?void 0:(c=a.satpData)==null?void 0:c.fontUrl)||null,id:(a==null?void 0:(b=a.satpData)==null?void 0:b.fontID)||null},portrait_background_image:{uri:(a==null?void 0:(c=a.satpData)==null?void 0:c.background)||null},text_align:"CENTER"},with_tags:{count:0}}}}function a(a){var c=a.storyID;c=g(c);a=h(a);b("StoriesCreatePreviewUtils").storiesCreatePreviewEnvironment.commitPayload(c,babelHelpers["extends"]({},a))}}),null);
__d("reduceStoriesCreateViewState",["StoriesCreateDefaultState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){if(d.type==="restart")return b("StoriesCreateDefaultState").getStoriesCreateInitialState();c=c;a=a.current.keys();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;c=g(c,d)}return c}}),null);
__d("useStoriesCreateViewStateAndRelayUpdater",["React","StoriesCreateDefaultState","StoriesCreatePreviewUpdater","reduceStoriesCreateViewState","requireCond","useDebounced","cr:1326771"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a){a=a.storyID;a=babelHelpers["extends"]({},b("StoriesCreateDefaultState").getStoriesCreateInitialState(),{storyID:a});b("StoriesCreatePreviewUpdater").updateStoriesPreview(a);return a}function a(){var a=g.useRef(new Map()),c=b("useDebounced")(function(a){b("StoriesCreatePreviewUpdater").updateStoriesPreview(a)},20),d=g.useCallback(function(d,e){e=b("reduceStoriesCreateViewState")(a,d,e);e!==d&&c(e);return e},[c]);d=g.useReducer(d,{storyID:"add_later"},h);var e=d[0];d=d[1];return[e,d,a]}}),null);
__d("StoriesCreateRoot.react",["CometPlaceholder.react","React","StoriesCreateContext","StoriesCreateRootPlaceholder.react","StoriesCreateViewStateContext","StoriesCreateViewStateDispatcherContext","StoriesCreateViewStateReducersContext","deferredLoadComponent","requireDeferredForDisplay","useStoriesCreateViewStateAndRelayUpdater"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("deferredLoadComponent")(b("requireDeferredForDisplay")("StoriesCreate.react"));function a(a){a=a.queries;var c=b("useStoriesCreateViewStateAndRelayUpdater")(),d=c[0],e=c[1];c=c[2];return g.jsx(b("StoriesCreateViewStateReducersContext").Provider,{value:c,children:g.jsx(b("StoriesCreateViewStateContext").Provider,{value:d,children:g.jsx(b("StoriesCreateViewStateDispatcherContext").Provider,{value:e,children:g.jsx(b("StoriesCreateContext").Provider,{value:!0,children:g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx(b("StoriesCreateRootPlaceholder.react"),{}),children:g.jsx(h,{queryReference:a.storiesCreateQueryReference})})})})})})}}),null);
__d("StoriesCreateFormExitUtils",["StoriesCreateConstants"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT,d=b("StoriesCreateConstants").LEAVE_TEXT.PHOTO;switch(a){case"photo":case"satp":return{body:d.BODY,title:d.TITLE};default:return{body:c.BODY,title:c.TITLE}}};f.exitDialogInformation=a}),null);
__d("ctaValidator",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c;if(((c=a.formData)==null?void 0:c.mediaType)==="satp"&&(((c=a.satpData)==null?void 0:c.text)==null||a.satpData.text.trim().length===0)){b({type:"satp_update_input_error"});return!1}return!0}}),null);
__d("satpValidator",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.ctaLinkData;var c=a.ctaType;a=a.link;if(c!=null&&(a===""||a==null)){b({error:!0,type:"CTA_UPDATE_LINK_INPUT_ERROR"});return!1}return!0}}),null);
__d("storiesCreateFormValidationUtils",["ctaValidator","satpValidator"],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.some(function(a){return(a=a)!=null?a:!1})};f.useFormHasErrors=a;c=function(a,c,d){var e=b("ctaValidator")(a,c);a=b("satpValidator")(a,c);e&&a&&d()};f.validateForm=c}),null);
__d("useStoriesCreateFormExitConfirmation",["StoriesCreateConstants","useOnBeforeUnload"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){b("useOnBeforeUnload")(function(){if(a)return;var e=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return{primaryButtonLabel:e.CONFIRM,secondaryButtonLabel:e.CANCEL,title:c,warnMessage:d}})}}),null);
__d("StoriesCreateFormFooterBase.react",["fbt","Actor","CometRelay","QuickPerformanceLogger","React","StoriesCreateConstants","StoriesCreateFormExitUtils","StoriesCreateViewStateContext","StoriesCreateViewStateDispatcherContext","TetraButton.react","requireDeferred","storiesCreateFormValidationUtils","stylex","useCometConfirmationDialog","useNotificationsTrackingString","usePrevious","useStoriesCreateFormExitConfirmation","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("requireDeferred")("StoriesCreateMutation");function j(a){if(a.textOverlays==null||a.textOverlays.overlays.length===0)return null;a=a.textOverlays.rootRef;a=a.current;if(a==null)return null;var b=a.cloneNode(!0);a=a.getBoundingClientRect();b.style.width=a.width+"px";b.style.height=a.height+"px";b.style.position="absolute";b.style.top="-16000px";b.style.zIndex="-10000";return b}function a(a){var c=a.mediaType,d=a.onError,e=a.onNavigate,f=a.onSuccess,k=a.qplEvent,l=a.videoUploaderConfig,m=b("CometRelay").useRelayEnvironment(),n=h.useContext(b("StoriesCreateViewStateContext")),o=h.useContext(b("StoriesCreateViewStateDispatcherContext"));a=b("Actor").useActor();var p=a[0];a=h.useState(!1);var q=a[0],r=a[1],s=b("usePrevious")(q),t=b("useNotificationsTrackingString")(),u=h.useCallback(function(){var a=j(n);i.onReady(function(b){b.createStories(n,p,m,l,a,k,function(a){return d(u)},f,t)})},[p,m,d,f,k,t,l,n]);a=b("useCometConfirmationDialog")();var v=a[0];a=b("storiesCreateFormValidationUtils").useFormHasErrors([n.ctaLinkData.linkInputError,((a=n.mediaAttachments)==null?void 0:(a=a[0])==null?void 0:a.fileType)==="PHOTO"&&((a=n.photoData)==null?void 0:a.displayedURI)==null,(a=n.satpData)==null?void 0:a.inputError]);var w=h.useMemo(function(){return b("StoriesCreateFormExitUtils").exitDialogInformation(c)},[c]);h.useEffect(function(){s===!1&&q===!0&&(k!=null&&(b("QuickPerformanceLogger").markerEnd(k,4),b("QuickPerformanceLogger").markerStart(k)),u(),e())},[u,q,e,k,s]);b("useStoriesCreateFormExitConfirmation")(q,w.title,w.body);var x=function(){b("storiesCreateFormValidationUtils").validateForm(n,o,function(){r(!0)})},y=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return h.jsxs("div",{className:"dati1w0a hv4rvrfc i1fnvgqd rdkrh8wx btwxx1t3 j83agx80 kmp5kqmu cwj9ozl2 bp9cbjyn",children:[h.jsx("div",{className:"cp6p5cpd qypqp5cg",children:h.jsx(b("TetraButton.react"),{disabled:q,label:y.CONFIRM,onPress:function(){v({body:w.body,cancel:y.CANCEL,confirm:y.CONFIRM,title:w.title},function(){o({type:"restart"})})},size:"large",type:"secondary"})}),h.jsx("div",{className:"cp6p5cpd qypqp5cg",children:h.jsx(b("TetraButton.react"),{disabled:a||q,label:g._("Share to Story"),onPress:x,size:"large"})})]})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);
__d("StoriesCreateFormFooter.react",["ix","fbt","CometRouteRenderType","React","StoriesCreateFormFooterBase.react","TetraIcon.react","XCometStoriesControllerRouteBuilder","cometPushToast","fbicon","useCometRouterDispatcher","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.composerSessionID,d=a.mediaType;a=a.videoUploaderConfig;var e=b("useCometRouterDispatcher")(),f=b("CometRouteRenderType").useIsPushView(),j=function(){if(e==null)return;if(f&&e.popPushView){e.popPushView();return}var a={composerSessionID:c},d=b("XCometStoriesControllerRouteBuilder").buildURL({});e.go(d,{passthroughProps:a,target:"self"})},k=function(a){b("cometPushToast").cometPushToast({action:{label:h._("Try Again"),onPress:a},icon:i.jsx(b("TetraIcon.react"),{color:"negative",icon:b("fbicon")._(g("681772"),24)}),message:h._("Your photo couldn't be uploaded to your story")},1e4)},l=void 0;switch(d){case"photo":l=13238398;break;case"satp":l=13238399;break}d=function(){};return i.jsx(b("StoriesCreateFormFooterBase.react"),{onError:k,onNavigate:j,onSuccess:d,qplEvent:l,videoUploaderConfig:a})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);