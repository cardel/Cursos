if (self.CavalryLogger) { CavalryLogger.start_js(["WKgV5"]); }

__d("CometPhotoViewerTaggedProductsSection_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoViewerTaggedProductsSection_photo",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagHScroll_page"}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometProductTagHScroll_productTags"}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometMediaUFIChainingSection_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"canShowSeenState"},{kind:"RootArgument",name:"feedbackSource"}],kind:"Fragment",metadata:null,name:"CometMediaUFIChainingSection_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"feedback_source_integer",variableName:"feedbackSource"}],kind:"ScalarField",name:"is_eligible_for_real_time_updates",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentListRenderer_feedback"},{args:[{kind:"Variable",name:"canShowSeenState",variableName:"canShowSeenState"}],kind:"FragmentSpread",name:"CometUFISummaryAndActions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometMediaUFIChainingSection_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFIChainingSection_shareable",selections:[{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometMediaUFIChainingSection_tagReview.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFIChainingSection_tagReview",selections:[{args:null,kind:"FragmentSpread",name:"CometPendingTagRequestList_tagReview"}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometMediaUFI_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometMediaUFI_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaUFIChainingSection_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometMediaUFI_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaUFIChainingSection_shareable"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFI_shareable",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaUFI_tagReview.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaUFI_tagReview",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFIChainingSection_tagReview"}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerRightRail_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],d={alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[b],storageKey:null},e={kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_feedback"}]};c={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,d,{alias:null,args:c,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},e],storageKey:null};var f={alias:null,args:null,concreteType:"CopyrightBannerInfo",kind:"LinkedField",name:"copyright_banner_info",plural:!1,selections:[{documentName:"CometMediaViewerRightRail_media",fragmentName:"CometCopyrightBanner_copyrightBannerInfo",fragmentPropName:"copyrightBannerInfo",kind:"ModuleImport"}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometMediaViewerRightRail_media",selections:[a,{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSectionActionWrapper_media"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_shareable"}]},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"attached_comment",plural:!1,selections:[c],storageKey:null},c,f,{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_tagReview"}]}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,d,e],storageKey:null},f],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerRightRail_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerRightRail_story",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSectionActionWrapper_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometPendingTagRequestList_tagReview.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPendingTagRequestList_tagReview",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"PhotoPendingTagsConnection",kind:"LinkedField",name:"pending_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoPendingTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"profile_photo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TagReviewUnitsConnection",kind:"LinkedField",name:"tag_review",plural:!1,selections:[{alias:null,args:null,concreteType:"TagReviewUnit",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"subject_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoApproveTagMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPhotoApproveTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoApproveTagResponsePayload",kind:"LinkedField",name:"photo_approve_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometPendingTagRequestList_tagReview"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPhotoApproveTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoApproveTagResponsePayload",kind:"LinkedField",name:"photo_approve_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:"PhotoPendingTagsConnection",kind:"LinkedField",name:"pending_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoPendingTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"profile_photo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TagReviewUnitsConnection",kind:"LinkedField",name:"tag_review",plural:!1,selections:[{alias:null,args:null,concreteType:"TagReviewUnit",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"subject_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2367388886706811",metadata:{},name:"CometPhotoApproveTagMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometPhotoRejectTagMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPhotoRejectTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoRejectTagResponsePayload",kind:"LinkedField",name:"photo_reject_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometPendingTagRequestList_tagReview"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPhotoRejectTagMutation",selections:[{alias:null,args:b,concreteType:"PhotoRejectTagResponsePayload",kind:"LinkedField",name:"photo_reject_tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:"PhotoPendingTagsConnection",kind:"LinkedField",name:"pending_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoPendingTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"profile_photo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TagReviewUnitsConnection",kind:"LinkedField",name:"tag_review",plural:!1,selections:[{alias:null,args:null,concreteType:"TagReviewUnit",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"subject_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2080157305421079",metadata:{},name:"CometPhotoRejectTagMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometNoCursorMediaSetViewerRenderer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerRenderer_media",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaViewerLayout_media"}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometNoCursorMediaSetViewerRenderer_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"media_type",value:"ALL"},b=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];b=[{kind:"InlineFragment",selections:b,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:b,type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useCometMediaURL_media"}];var c=[{alias:null,args:null,concreteType:"MediaSetMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:b,storageKey:null}],storageKey:null}],d=[{kind:"Variable",name:"media_id",variableName:"nodeID"}];d=[{alias:"prevMediaNoCursor",args:d,concreteType:null,kind:"LinkedField",name:"media_before",plural:!1,selections:b,storageKey:null},{alias:"nextMediaNoCursor",args:d,concreteType:null,kind:"LinkedField",name:"media_after",plural:!1,selections:b,storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"loopMedia"},{kind:"RootArgument",name:"nodeID"}],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerRenderer_mediaset",selections:[{condition:"loopMedia",kind:"Condition",passingValue:!0,selections:[{alias:"firstMediaNoCursor",args:[{kind:"Literal",name:"first",value:1},a],concreteType:"MediaSetMediaConnection",kind:"LinkedField",name:"media",plural:!1,selections:c,storageKey:'media(first:1,media_type:"ALL")'},{alias:"lastMediaNoCursor",args:[{kind:"Literal",name:"last",value:1},a],concreteType:"MediaSetMediaConnection",kind:"LinkedField",name:"media",plural:!1,selections:c,storageKey:'media(last:1,media_type:"ALL")'}]},{kind:"InlineFragment",selections:d,type:"GenericMediaSet",abstractKey:null},{kind:"InlineFragment",selections:d,type:"TaggedMediaOfFamilyMemberMediaSet",abstractKey:null},{kind:"InlineFragment",selections:d,type:"TaggedMediaOfUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MediaUploadedByUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MediaAttachmentMediaSet",abstractKey:null},{kind:"InlineFragment",selections:d,type:"TaggedInAlbumMediaSet",abstractKey:null},{kind:"InlineFragment",selections:d,type:"MediaContainerMediaSet",abstractKey:null},{kind:"InlineFragment",selections:d,type:"ProfileFrameMediaSet",abstractKey:null}],type:"MediaSet",abstractKey:"__isMediaSet"}}();e.exports=a}),null);
__d("CometPhotoTagBox_photoTagsEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagBox_photoTagsEdge",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdown_photoTagsEdge"}],type:"PhotoTagsEdge",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagBox_productTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagBox_productTag",selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPhotoTagDropdown_productTag"}],type:"ProductTag",abstractKey:null};e.exports=a}),null);
__d("CometPhotoTagDropdown_photoTagsEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdown_photoTagsEdge",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Group",abstractKey:null}],storageKey:null}],type:"PhotoTagsEdge",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoTagDropdown_productTag.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagDropdown_productTag",selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:60,width:60)"},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"ProductTag",abstractKey:null}}();e.exports=a}),null);
__d("CometPhotoTagLayerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"nodeID"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c=[{kind:"Variable",name:"id",variableName:"nodeID"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},h=[g],i={alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},k=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometPhotoTagLayerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoTagWrapper_photo"}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometPhotoTagLayerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{kind:"InlineFragment",selections:h,type:"User",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:h,type:"Group",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[i,j,e],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_tag",storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:k,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[i,j,e,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tagging_actor",plural:!1,selections:[d,e,f],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[e,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},f,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:60,width:60)"},g],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:k,storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}]},params:{id:"3540813515947172",metadata:{relayPreloadable:!0},name:"CometPhotoTagLayerQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometPhotoTagWrapper_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a],c=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometPhotoTagWrapper_photo",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tagging_actor",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:b,storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPhotoTagBox_productTag"}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"location",plural:!1,selections:c,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPhotoTagBox_photoTagsEdge"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometPhotoTaggerRenderScale_photo"},{args:null,kind:"FragmentSpread",name:"CometPhotoAddTag_photo"}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("CometMediaViewerLayout_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerLayout_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewer_media"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerVideoPlayerSurface_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerVideoPlayerSurface_data",selections:[a,{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"fullscreen_video_player"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlay_data"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"fullscreen_video_player")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("CometMediaViewer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"framework",value:"WARNING_SCREENS"},b=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewer_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[a,{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:b,storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'},{args:null,kind:"FragmentSpread",name:"CometPhotoViewer_photo"}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[a,{kind:"Literal",name:"location",value:"fullscreen_video_player"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:b,storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"fullscreen_video_player")'},{args:null,kind:"FragmentSpread",name:"CometMediaViewerVideoPlayerSurface_data"},{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"}],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapperComposerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nodeID"}],b=[{kind:"Variable",name:"id",variableName:"nodeID"}],c={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},d=[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerComposer_textWithEntities"}],storageKey:null}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g=[f];g=[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[e,{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapperComposerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[c,{kind:"InlineFragment",selections:d,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerContextSectionActionWrapperComposerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,f,{kind:"InlineFragment",selections:[c,{kind:"InlineFragment",selections:g,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}]},params:{id:"4358065510877626",metadata:{},name:"CometMediaViewerContextSectionActionWrapperComposerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapper_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapper_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSection_media"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerComposer_media"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapper_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapper_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},{alias:null,args:null,concreteType:"BoostedComponent",kind:"LinkedField",name:"post_promotion_info",plural:!1,selections:[{documentName:"CometMediaViewerContextSectionActionWrapper_story",fragmentName:"LWICometStoryButton_postPromotionInfo",fragmentPropName:"postPromotionInfo",kind:"ModuleImport"}],storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerContextSection_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometFeedStoryInformTreatmentFooterStrategy"]}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometMediaViewerContextSection_media",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null}],storageKey:'footer(supported:["CometFeedStoryInformTreatmentFooterStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorPhotoSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryMetadataSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerTitleSection_story"},{args:null,kind:"FragmentSpread",name:"CometMediaViewerSuffixSection_story"}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSection_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMediaViewerDescriptionSection_media"},{kind:"InlineFragment",selections:[a,b,{args:null,kind:"FragmentSpread",name:"CometMediaViewerFallbackForNoStory_media"},{args:null,kind:"FragmentSpread",name:"CometPhotoViewerTaggedProductsSection_photo"}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[a,b,{args:null,kind:"FragmentSpread",name:"CometVideoViewerTaggedProductsSection_video"}],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerDescriptionSection_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],b={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:a,storageKey:null},c={alias:null,args:[{kind:"Literal",name:"supported",value:["TextWithEntities","FBMarkdownCommentBody"]}],concreteType:null,kind:"LinkedField",name:"message_preferred_body",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometMediaViewerDescriptionSection_media",fragmentName:"CometMediaViewerDescriptionSectionComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'message_preferred_body(supported:["TextWithEntities","FBMarkdownCommentBody"])'};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerDescriptionSection_media",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"attached_comment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:a,storageKey:null}],storageKey:null},b,c],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[b,c],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerFallbackForNoStory_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"privacySelectorRenderLocation"}],kind:"Fragment",metadata:null,name:"CometMediaViewerFallbackForNoStory_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerDescriptionSection_media"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{args:[{kind:"Variable",name:"renderLocation",variableName:"privacySelectorRenderLocation"}],kind:"FragmentSpread",name:"CometPrivacySelectorForScope_scope"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:120,width:120)"}],storageKey:null}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerSuffixSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerSuffixSection_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"location",value:"comet_media_viewer"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"suffix",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:'suffix(location:"comet_media_viewer")'}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerTitleSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerTitleSection_story",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorLink_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("useAddGlobalEventListenerOnEffect",["HiddenSubtreeContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=c;var g=b("React");function c(c){var d=g.useContext(b("HiddenSubtreeContext")).hiddenOrBackgrounded;g.useEffect(function(){if(!d){a.addEventListener("resize",c);return function(){return a.removeEventListener("resize",c)}}},[c,d])}}),null);
__d("CometPhotoViewerTaggedProductsSection.react",["fbt","CometProductTagHScroll.react","CometRelay","React","TetraText.react","stylex","CometPhotoViewerTaggedProductsSection_photo.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j="product_tag_on_photo_fullscreen_";function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPhotoViewerTaggedProductsSection_photo.graphql"),a.photo),d=c.id;if(d==null)return null;var e=c.owner;if(e==null)return null;var f=c.photo_product_tags;return f==null||f.length===0?null:i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"jwdofwj8 ihqw7lf3",children:i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink2",children:a.isEditMode!==!0?g._("Shop from this photo ({number of products tagged in the photo})",[g._param("number of products tagged in the photo",f.length)]):g._("Product tags ({number of products tagged in the photo})",[g._param("number of products tagged in the photo",f.length)])})}),i.jsx("div",{className:"ihqw7lf3 q6bqt692 lwim6sy8",children:i.jsx(b("CometProductTagHScroll.react"),{adID:(a=c.creation_story)==null?void 0:(a=a.sponsored_data)==null?void 0:a.ad_id,creationStoryDebugInfo:(a=c.creation_story)==null?void 0:a.debug_info,creationStorySerializedIDs:(a=c.creation_story)==null?void 0:a.serialized_frtp_identifiers,page:e,postID:d,referralCode:j+d,surface:"photo_fullscreen",tags:f})})]})}}),null);
__d("CometMediaViewerStage.react",["ix","fbt","CometBlurredBackgroundImage.react","CometFullScreen","CometKeys","CometProductTagFunnelIDContext","CometTrackingNodeProvider.react","Locale","React","TetraCircleButton.react","cometGetKeyCommandConfig","fbicon","gkx","stylex","useCometRouterDispatcher","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=b("gkx")("1451824");function a(a){var c=a.backgroundSrc,d=a.initialTracePolicy,e=a.nextMediaURI,f=a.onNavigatePhoto,k=a.prevMediaURI,l=a.storyRenderLocation,m=a.subOrigin,n=a.useKeyCommands,o=n===void 0?!0:n,p=i.useContext(b("CometProductTagFunnelIDContext")),q=b("useCometRouterDispatcher")();n=i.useCallback(function(){q!=null&&q.popPushView()},[q]);var r=i.useCallback(function(){e!=null&&q!=null&&(f&&f(),q.go(e,{passthroughProps:{initialTracePolicy:d,productTagFunnelID:p,storyRenderLocation:l,subOrigin:m},target:"self",traceParams:{navigation_source:"CometMediaViewer_next"}}))},[e,q,f,d,p,m,l]),s=i.useCallback(function(){k!=null&&q!=null&&(f&&f(),q.go(k,{passthroughProps:{initialTracePolicy:d,productTagFunnelID:p,storyRenderLocation:l,subOrigin:m},target:"self",traceParams:{navigation_source:"CometMediaViewer_prev"}}))},[k,q,f,d,p,l,m]),t=h._("Previous photo"),u=h._("Next photo"),v=i.useCallback(function(){var a=b("CometFullScreen").getFullScreenElement();if(a==null){a=document.documentElement;a!=null&&b("CometFullScreen").requestFullScreen(a)}else b("CometFullScreen").exitFullScreen()},[]),w=i.useMemo(function(){if(!o)return[];var a=e!=null&&e!=="",c=k!=null&&k!=="",d=[];c&&(d.push({command:{key:b("CometKeys").LEFT},description:t,handler:s}),d.push(b("cometGetKeyCommandConfig")("photoViewer","viewPrevious",s)));a&&(d.push({command:{key:b("CometKeys").RIGHT},description:u,handler:r}),d.push(b("cometGetKeyCommandConfig")("photoViewer","viewNext",r)));d.push(b("cometGetKeyCommandConfig")("photoViewer","fullscreen",v));return d},[r,s,u,e,t,k,v]);b("useLayerKeyCommands")(w);return i.jsxs("div",{className:"iqfcb0g7 l9j0dhe7 p01isnhg datstx6m buofh1pr cbu4d94t j83agx80 tqsryivl",ref:function(a){a&&a.focus()},tabIndex:"0",children:[i.jsx("div",{className:"iqfcb0g7 kr520xx4 j9ispegn pmk7jnqg akz8cqyu n7fi1qx3 i09qtzwb",children:c!=null?i.jsx(b("CometBlurredBackgroundImage.react"),{src:c}):null}),i.jsxs("div",{className:"iqfcb0g7 l9j0dhe7 j0qtgc86 e9n865no taijpn5t datstx6m buofh1pr j83agx80",children:[i.jsxs("div",{className:"kr520xx4 j9ispegn pmk7jnqg i1fnvgqd n7fi1qx3 j83agx80 i09qtzwb bp9cbjyn","data-name":"media-viewer-nav-container",children:[j?i.jsx("div",{"aria-hidden":!0,className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",onClick:n}):null,i.jsx("div",{className:"l9j0dhe7 dhix69tm sjgh65i0 wkznzc2l tr9rh885"+(k==null||k===""?" kr9hpln1":""),"data-testid":void 0,children:i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:143,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492539"),24):b("fbicon")._(g("492491"),24),label:t,onPress:s,size:48,testid:void 0,type:"overlay"})})}),i.jsx("div",{className:"l9j0dhe7 dhix69tm sjgh65i0 wkznzc2l tr9rh885"+(e==null||e===""?" kr9hpln1":""),"data-testid":void 0,children:i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:142,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),label:u,onPress:r,size:48,testid:void 0,type:"overlay"})})})]}),a.children]})]})}}),null);
__d("CometPhotoApproveTagMutation",["fbt","CometRelay","cometPushToast","CometPhotoApproveTagMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";f.approveTagMutation=a;var h,i=h!==void 0?h:h=b("CometPhotoApproveTagMutation.graphql");function a(a,c,d){var e=function(){var a=c.photo_id,b=c.subject_id;if(a==null||b==null)return};b("CometRelay").commitMutation(a,{mutation:i,onCompleted:d,onError:function(){b("cometPushToast").cometPushErrorToast({message:g._("Unable to tag photo")},4e3)},updater:e,variables:{input:c}})}}),null);
__d("CometPhotoRejectTagMutation",["fbt","CometRelay","cometPushToast","CometPhotoRejectTagMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";f.removePendingTags=a;var h,i=h!==void 0?h:h=b("CometPhotoRejectTagMutation.graphql");function a(a,c){b("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(){b("cometPushToast").cometPushSimpleToast(g._("Tag removed"),4e3)},onError:function(){b("cometPushToast").cometPushErrorToast({message:g._("Unable to delete tag")},4e3)},variables:{input:c}})}}),null);
__d("CometPendingTagRequestList.react",["fbt","CometPhotoApproveTagMutation","CometPhotoRejectTagMutation","CometRelay","CometRow.react","CometRowItem.react","React","TetraAccessoryListCell.react","TetraButtonGroup.react","TetraList.react","TetraUnit.react","TetraUnitHeader.react","cometPushToast","stylex","unrecoverableViolation","CometPendingTagRequestList_tagReview.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){var c;a=a.tagReview;a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPendingTagRequestList_tagReview.graphql"),a);var d=a==null?void 0:a.id;if(d==null)throw b("unrecoverableViolation")("It is impossible to tag a photo if there is no photo id","comet_ui");c=a==null?void 0:(c=a.owner)==null?void 0:c.id;if(c==null)throw b("unrecoverableViolation")("It is impossible to tag a photo if there is no owner of the photo","comet_ui");var e=b("CometRelay").useRelayEnvironment(),f=function(a,b){b=b.nodes.find(function(b){return b.subject_id===a});return b==null?void 0:(b=b.description)==null?void 0:b.text},j=i.useCallback(function(a){if(a.id==null)return;b("CometPhotoRejectTagMutation").removePendingTags(e,{photo_id:d,subject_id:a.id})},[e,d]),k=i.useCallback(function(a,c){if(a.id==null)throw b("unrecoverableViolation")("It is impossible to tag a photo if there is no tagging actor","comet_ui");b("CometPhotoApproveTagMutation").approveTagMutation(e,{photo_id:d,subject_id:a.id},function(){b("cometPushToast").cometPushSimpleToast(g._("{id of the tagged user} has been tagged in this photo",[g._param("id of the tagged user",c)]),4e3)})},[e,d]);c=a==null?void 0:a.pending_tags;a=(a=c==null?void 0:c.edges)!=null?a:[];var l=[];a.forEach(function(a){var c=a.node;a=a.tag_review;if(!c||!a)return;var d=c.id,e=c.name;c=c.profile_photo;if(e==null)return;a=f(d,a);l.push({addOnBottom:{component:i.jsx(b("TetraButtonGroup.react"),{paddingTop:0,primary:{label:g._("Add tag"),onPress:function(){return k({id:d},e)},testid:"add-tag"},secondary:{label:g._("Ignore"),onPress:function(){return j({id:d})},testid:"ignore-tag"},size:"medium"}),type:"buttons"},addOnPrimary:{shape:"circle",size:40,source:{uri:(c=c==null?void 0:c.src)!=null?c:""},type:"profile-photo"},headline:e,meta:a,metaColor:"secondary",metaLineLimit:2})});return c!=null&&c.edges!=null&&c.edges.length>0?i.jsx(b("CometRow.react"),{paddingHorizontal:16,paddingVertical:16,children:i.jsx(b("CometRowItem.react"),{children:i.jsxs("div",{className:"gmoyrkwh ns4ygwem fykbt5ly hgaippwi fni8adji b3i9ofy5",children:[i.jsx(b("TetraUnit.react"),{header:i.jsx(b("TetraUnitHeader.react"),{headline:"Pending Tags",level:2}),type:"transparent"}),i.jsx(b("TetraList.react"),{items:l,children:function(a){var c=a.item;a=a.props;return i.jsx(b("TetraAccessoryListCell.react"),babelHelpers["extends"]({},a,c))}})]})})}):null}}),null);
__d("CometMediaUFIChainingSection.react",["CometListItemGlimmer.react","CometPendingTagRequestList.react","CometRefineRef","CometRelay","CometUFICommentListRenderer.react","CometUFIRealtimeRoot.react","CometUFISummaryAndActions.react","FBLogger","React","stylex","CometMediaUFIChainingSection_feedback.graphql","CometMediaUFIChainingSection_shareable.graphql","CometMediaUFIChainingSection_tagReview.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=b("React");function a(a,c){var d=a.displayCommentsContext,e=a.feedback,f=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.isTextOnlyStory,n=a.onActorSelected,o=a.shareable,p=a.storyRenderLocation;a=a.tagReview;var q=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaUFIChainingSection_feedback.graphql"),e);e=b("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaUFIChainingSection_shareable.graphql"),o);o=b("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaUFIChainingSection_tagReview.graphql"),a);var r=j.useRef();a=j.useCallback(function(){var a=r.current;a!=null&&a.Actions.toggleList({focusComposer:!1})},[]);var s=j.useCallback(function(){var a=r.current;a!=null?a.Actions.expandList({focusComposer:!0,scrollToComposer:!0}):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",(q==null?void 0:q.id)||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")},[q]);return j.jsxs(b("CometUFIRealtimeRoot.react"),{enabled:q.is_eligible_for_real_time_updates===!0,children:[j.jsx(b("CometUFISummaryAndActions.react"),{feedLocation:k,feedback:q,feedbackSource:f,isTextOnlyStory:m,onActorSelected:n,onClickCommentsCount:a,onCommentClick:s,ref:c,shareable:(m=e)!=null?m:null}),j.jsx("div",{className:"dhix69tm oygrvhab wkznzc2l kvgmc6g5 l6v480f0"}),o!=null?j.jsx(b("CometPendingTagRequestList.react"),{tagReview:o}):null,j.jsx(b("CometUFICommentListRenderer.react"),{displayCommentsContext:d,fallback:j.jsx("div",{className:"l6v480f0","data-testid":void 0,children:j.jsx(b("CometListItemGlimmer.react"),{imageSize:36,imageStyle:"circle",numberOfItems:4})}),feedLocation:k,feedback:q,feedbackSource:f,focusCommentID:l,listRef:b("CometRefineRef")(r),storyRenderLocation:p})]})}c=j.forwardRef(a);e.exports=c}),null);
__d("CometMediaUFI.react",["CometMediaUFIChainingSection.react","CometRelay","React","requireDeferred","CometMediaUFI_feedback.graphql","CometMediaUFI_shareable.graphql","CometMediaUFI_tagReview.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j=b("React");c=b("requireDeferred")("UFIReactionsAnimationPreloader");c.onReady(function(a){return new a().preloadAll()});function a(a,c){var d=a.displayCommentsContext,e=a.feedback,f=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.onActorSelected,n=a.isTextOnlyStory,o=a.pendingTags;a=a.shareable;e=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaUFI_feedback.graphql"),e);a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaUFI_shareable.graphql"),a);o=b("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaUFI_tagReview.graphql"),o);return j.jsx(b("CometMediaUFIChainingSection.react"),{displayCommentsContext:(d=d)!=null?d:{},feedLocation:k,feedback:e,feedbackSource:f,focusCommentID:l,isTextOnlyStory:n,onActorSelected:m,ref:c,shareable:(a==null?void 0:a.can_viewer_share)===!0?a:null,storyRenderLocation:"newsstand",tagReview:(d=o)!=null?d:null},(f=e==null?void 0:(k=e.viewer_actor)==null?void 0:k.id)!=null?f:"UNKNOWN")}d=j.memo(j.forwardRef(a));e.exports=d}),null);
__d("CometMediaViewerDescriptionSection.react",["CometEmojiTransform","CometEmoticonTransform","CometHovercardEntityRenderer","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometShortenedExternalUrlEntityRenderer","CometTextWithEntitiesRelay.react","CometTrackingNodeProvider.react","CometTrackingNodeRenderer","React","TetraText.react","CometMediaViewerDescriptionSection_media.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={"*":[b("CometLinkedEntityRenderer"),b("CometTrackingNodeRenderer")],Event:[c=b("CometHovercardEntityRenderer")],ExternalUrl:[b("CometShortenedExternalUrlEntityRenderer")],Group:[c],Page:[c],User:[c]},j=[b("CometEmoticonTransform")(),b("CometEmojiTransform")(),b("CometLineBreakTransform")];function a(a){a=a.media;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerDescriptionSection_media.graphql"),a);var c=a.attached_comment,d=a.message;a=a.message_preferred_body;c=c==null?void 0:c.preferred_body;d=(d=d)!=null?d:c;return d==null?null:h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:18,children:h.jsx(b("TetraText.react"),{type:"body3",children:a!==null?h.jsx(b("CometRelay").MatchContainer,{match:a}):h.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:i,textWithEntities:d,transforms:j,truncationStyle:"see-more-and-less"})})})}}),null);
__d("CometMediaViewerFallbackForNoStory.react",["CometFeedStoryMetaSectionMiddot.react","CometImageIcon.react","CometMediaViewerDescriptionSection.react","CometPrivacySelectorForScope.react","CometRelativeTimestamp.react","CometRelay","CometTimestamp.react","React","TetraTextPairing.react","stylex","useServerTime","CometMediaViewerFallbackForNoStory_media.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=1e3*60*60*24;function j(a,c){c=new Date(c*1e3);var d=c.valueOf()>a.valueOf(),e=a.valueOf()-c.valueOf()<i;return!d&&e?b("CometRelativeTimestamp.react").getRelativeTimestamp(a,c,"shortened"):b("CometTimestamp.react").getTimestamp(a,c)}function a(a){var c,d;a=a.media;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerFallbackForNoStory_media.graphql"),a);c=a==null?void 0:(c=a.owner)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;d=a==null?void 0:(d=a.owner)==null?void 0:d.name;var e=a==null?void 0:a.created_time,f=a==null?void 0:a.privacy_scope,i=b("useServerTime")();e=j(i,(i=e)!=null?i:0).toString();return h.jsxs("div",{"data-testid":void 0,children:[h.jsxs("div",{className:"j83agx80",children:[h.jsx(b("CometImageIcon.react"),{size:40,src:(i=c)!=null?i:"",style:"circle"}),h.jsx("div",{className:"aov4n071 h676nmdw buofh1pr",children:h.jsx(b("TetraTextPairing.react"),{headline:h.jsx("div",{className:"aahdfvyu",children:d}),level:4,meta:h.jsxs("div",{children:[h.jsx("span",{children:e}),h.jsx(b("CometFeedStoryMetaSectionMiddot.react"),{}),h.jsx(b("CometPrivacySelectorForScope.react"),{renderLocation:"COMET_MEDIA_VIEWER",scope:f})]})})})]}),h.jsx("div",{className:"a8nywdso j7796vcc rz4wbd8a l29c1vbm",children:h.jsx(b("CometMediaViewerDescriptionSection.react"),{media:a})})]})}}),null);
__d("CometMediaViewerSuffixSection.react",["CometAggregatedEntitiesTooltipRenderer","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFeedStorySuffixAggregatedUsersRenderer","CometHovercardEntityRenderer","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","CometTrackingNodeProvider.react","CometTrackingNodeRenderer","React","TetraText.react","stylex","CometMediaViewerSuffixSection_story.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()];function a(a){a=a.story;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerSuffixSection_story.graphql"),a);var c=a==null?void 0:a.id;a=a==null?void 0:a.suffix;var d=h.useMemo(function(){var a,d,e;return{"*":[b("CometBoldedEntityRenderer")],Aggregate:[b("CometAggregatedEntitiesTooltipRenderer"),b("CometFeedStorySuffixAggregatedUsersRenderer")(c,"comet_media_viewer")],Application:[a=b("CometLinkedEntityRenderer"),d=b("CometTrackingNodeRenderer")],Event:[e=b("CometHovercardEntityRenderer"),a,d],Group:[e,a,d],Page:[e,a,d],SyntheticActor:[a,d],User:[e,a,d]}},[c]);return a==null?null:h.jsx("div",{className:"j7796vcc",children:h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:10,children:h.jsxs(b("TetraText.react"),{type:"body2",children:[h.jsx("span",{children:"\u2014\xa0"}),h.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:d,textWithEntities:a,transforms:i})]})})})}}),null);
__d("CometMediaViewerTitleSection.react",["BaseHeading.react","CometFeedARIAProperties.react","CometFeedStoryActorLink.react","CometRelay","CometTrackingNodeProvider.react","React","TetraText.react","stylex","CometMediaViewerTitleSection_story.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React"),j={title:{marginTop:"aahdfvyu"}};function a(a){var c=i.useContext(b("CometFeedARIAProperties.react"));a=a.story;var d=a==null?void 0:a.actors[0];if(d==null)return null;a=i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:304,children:i.jsx(b("CometFeedStoryActorLink.react"),{story:a,children:d.name})});return i.jsx("div",{className:(h||(h=b("stylex")))(j.title),children:i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:10,children:i.jsx(b("BaseHeading.react"),babelHelpers["extends"]({xstyle:j.title},c.titleTargetProps,{ref:c.titleTargetRef,children:i.jsx(b("TetraText.react"),{color:"secondary",type:"body3",children:a})}))})})}c=b("CometRelay").createSuspenseFragmentContainer_DEPRECATED(a,{story:g!==void 0?g:g=b("CometMediaViewerTitleSection_story.graphql")});e.exports=c}),null);
__d("CometMediaViewerContextSection.react",["CometFeedMatchRenderer.react","CometFeedStoryActorPhotoSection.react","CometFeedStoryDropdownMenuLoggerContext","CometFeedStoryMenuSection.react","CometFeedStoryMetadataSection.react","CometMediaViewerDescriptionSection.react","CometMediaViewerFallbackForNoStory.react","CometMediaViewerSuffixSection.react","CometMediaViewerTitleSection.react","CometPhotoViewerTaggedProductsSection.react","CometRelay","CometVideoViewerTaggedProductsSection.react","React","TetraTextPairing.react","WebSession","gkx","recoverableViolation","requireDeferred","stylex","CometMediaViewerContextSection_media.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("requireDeferred")("CometMediaOptionsClickFalcoEvent");function a(a){var c=a.media;a=babelHelpers.objectWithoutPropertiesLoose(a,["media"]);c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerContextSection_media.graphql"),c);var d=c==null?void 0:c.id,e=c==null?void 0:c.creation_story,f=h.useCallback(function(){if(d==null){b("recoverableViolation")("Cannot log options dropdown click event with media id of null","comet_feed");return}var a=b("WebSession").getId();i.onReady(function(b){b.log(function(){return{media_fbid:d,session_id:a}})})},[d]),j=h.useMemo(function(){return{nodeID:d}},[d]);return e==null?h.jsx(b("CometMediaViewerFallbackForNoStory.react"),{media:c}):h.jsxs("div",{"data-testid":void 0,children:[h.jsxs("div",{className:"btwxx1t3 j83agx80 hybvsw6c ll8tlv6m",children:[h.jsx(b("CometFeedStoryActorPhotoSection.react"),{story:e}),h.jsx("div",{className:"buofh1pr",children:h.jsx(b("TetraTextPairing.react"),{body:h.jsx(b("CometMediaViewerTitleSection.react"),{story:e}),level:3,meta:h.jsx(b("CometFeedStoryMetadataSection.react"),{privacySelectorRenderLocation:"COMET_MEDIA_VIEWER",story:e})})}),d!=null?h.jsx(b("CometFeedStoryDropdownMenuLoggerContext").Provider,{value:j,children:h.jsx(b("CometFeedStoryMenuSection.react"),{additionalOnPressHandler:f,feedLocation:a.feedLocation,id:e==null?void 0:e.id,serializedFRTPIdentifiers:e==null?void 0:e.serialized_frtp_identifiers,storyDebugInfo:e==null?void 0:e.debug_info})}):null]}),h.jsx("div",{className:"a8nywdso j7796vcc rz4wbd8a l29c1vbm",children:h.jsx(b("CometMediaViewerDescriptionSection.react"),{media:c})}),b("gkx")("1069716")&&((c==null?void 0:c.is_playable)?h.jsx(b("CometVideoViewerTaggedProductsSection.react"),{video:c}):h.jsx(b("CometPhotoViewerTaggedProductsSection.react"),{photo:c})),h.jsx(b("CometFeedMatchRenderer.react"),{match:(j=e.comet_sections)==null?void 0:j.footer,props:{},section:"footer",trackingData:e.encrypted_tracking}),h.jsx(b("CometMediaViewerSuffixSection.react"),{story:e})]})}}),null);
__d("CometMediaViewerContextSectionActionWrapper.react",["fbt","CometButton_DEPRECATED.react","CometErrorBoundary.react","CometMediaViewerContextSection.react","CometPlaceholder.react","CometRelay","React","deferredLoadComponent","requireDeferred","stylex","unrecoverableViolation","CometMediaViewerContextSectionActionWrapperComposerQuery.graphql","CometMediaViewerContextSectionActionWrapper_media.graphql","CometMediaViewerContextSectionActionWrapper_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j,k=b("React");c=b("requireDeferred")("CometMediaViewerComposer.react");var l=b("deferredLoadComponent")(c),m=h!==void 0?h:h=b("CometMediaViewerContextSectionActionWrapperComposerQuery.graphql");function n(a){var c=a.isEditing,d=a.media,e=a.nodeID;a=a.setIsEditing;var f=k.useCallback(function(a){var d=a.disabled;a=a.submitForm;return c?k.jsx(b("CometButton_DEPRECATED.react"),{disabled:d,onClick:a,use:"primary",children:g._("Finished Editing")}):null},[c]),h=b("CometRelay").useLazyLoadQuery(m,{nodeID:e});h=h.node;if(h==null)throw b("unrecoverableViolation")("CometMediaViewerContextSectionActionWrapperComposerQuery: Could not find media with id: "+e,"comet_ui");var i=h.message;return i!=null?k.jsx(l,{media:d,mediaType:(h==null?void 0:h.is_playable)===!0?"video":"photo",message:i,nodeID:e,setIsEditing:a,submitButton:f}):k.jsx(l,{media:d,mediaType:(h==null?void 0:h.is_playable)===!0?"video":"photo",nodeID:e,setIsEditing:a,submitButton:f})}function o(a){var c=a.media,d=a.story;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","story"]);var e=a.nodeID,f=k.useState(!1),h=f[0],l=f[1];k.useEffect(function(){l(!1)},[e]);f=b("CometRelay").useFragment(i!==void 0?i:i=b("CometMediaViewerContextSectionActionWrapper_media.graphql"),c);c=b("CometRelay").useFragment(j!==void 0?j:j=b("CometMediaViewerContextSectionActionWrapper_story.graphql"),d);return k.jsxs("div",{className:"dati1w0a f10w8fjw hv4rvrfc discj3wi","data-testid":void 0,children:[h?k.jsx("div",{className:"f10w8fjw",children:k.jsx(b("CometPlaceholder.react"),{fallback:k.jsx("div",{className:"qwwmc0zo",children:k.jsx(b("CometMediaViewerContextSection.react"),{feedLocation:a.feedLocation,media:f})}),children:k.jsx(n,{isEditing:h,media:f,nodeID:e,setIsEditing:l})})}):k.jsx(b("CometMediaViewerContextSection.react"),{feedLocation:a.feedLocation,media:f}),k.jsxs("div",{className:"j83agx80",children:[(c==null?void 0:c.post_promotion_info)!=null?k.jsx(b("CometPlaceholder.react"),{fallback:null,children:k.jsx(b("CometRelay").MatchContainer,{match:c.post_promotion_info,props:{targetID:c==null?void 0:c.legacy_story_hideable_id}})}):null,(c==null?void 0:c.can_viewer_edit)===!0&&!h?k.jsx(b("CometButton_DEPRECATED.react"),{onClick:function(){return l(!h)},use:"secondary",children:g._("Edit")}):null]})]})}function a(a){return k.jsx(b("CometErrorBoundary.react"),{fallback:null,children:k.jsx(o,babelHelpers["extends"]({},a))})}}),null);
__d("CometMediaViewerRightRailUFIWithTracking.react",["CometMediaUFI.react","React","useCometDisplayTimingTracker"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("useCometDisplayTimingTracker")("MediaViewerUFI");return g.jsx(b("CometMediaUFI.react"),babelHelpers["extends"]({},a,{ref:c}))}}),null);
__d("CometMediaViewerRightRail.react",["CometMediaViewerContextSectionActionWrapper.react","CometMediaViewerRightRailUFIGlimmer.react","CometMediaViewerRightRailUFIWithTracking.react","CometPlaceholder.react","CometRelay","CometUFIFeedbackReactMutation","React","UFIReactionTypes","cometGetKeyCommandConfig","recoverableViolation","unrecoverableViolation","useLayerKeyCommands","CometMediaViewerRightRail_media.graphql","CometMediaViewerRightRail_story.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=(c=b("CometRelay")).MatchContainer;d=c.createSuspenseFragmentContainer_DEPRECATED;c.graphql;var j=c.useRelayEnvironment,k=b("React");f=b("React");var l=f.useCallback,m=f.useMemo,n=f.useRef;function a(a){var c,d=a.feedbackSource,e=a.feedLocation,f=a.focusCommentID,g=a.media,h=a.nodeID,o=a.onActorSelected;a=a.story;var p=(c=g==null?void 0:(c=g.attached_comment)==null?void 0:c.feedback)!=null?c:g==null?void 0:g.feedback;c=!Boolean(g==null?void 0:g.attached_comment);if(p==null)throw b("unrecoverableViolation")("props needs to contain a feedback object","comet_ui");var q=n(null),r=j(),s=l(function(){var a;if(p==null){b("recoverableViolation")("No feedback for the media is associated with it","comet_ui");return}var c=p==null?void 0:p.id;a=p==null?void 0:(a=p.viewer_actor)==null?void 0:a.id;if(c==null||d==null){b("recoverableViolation")("No Feedback data is associated with it","comet_ui");return}if(a==null){b("recoverableViolation")("No actor id is associated with it","comet_ui");return}a=p==null?void 0:p.viewer_feedback_reaction_info;a!=null?a={feedback_id:c,feedback_reaction:b("UFIReactionTypes").NONE,feedback_source:d}:a={feedback_id:c,feedback_reaction:b("UFIReactionTypes").LIKE,feedback_source:d};q.current=b("CometUFIFeedbackReactMutation").commit({environment:r,input:a,onError:function(){},useDefaultActor:!1})},[r,p,d]),t=m(function(){var a=[];a.push(b("cometGetKeyCommandConfig")("photoViewer","like",s));return a},[s]);b("useLayerKeyCommands")(t);return k.jsxs(k.Fragment,{children:[k.jsx(i,{match:g.copyright_banner_info,props:{mediaIds:[h],source:"media_viewer"}}),k.jsx(b("CometMediaViewerContextSectionActionWrapper.react"),{feedLocation:e,media:g,nodeID:h,story:a}),k.jsx(b("CometPlaceholder.react"),{fallback:k.jsx(b("CometMediaViewerRightRailUFIGlimmer.react"),{}),children:k.jsx(b("CometMediaViewerRightRailUFIWithTracking.react"),{displayCommentsContext:null,feedLocation:e,feedback:p,feedbackSource:d,focusCommentID:(t=f)!=null?t:null,isTextOnlyStory:!0,onActorSelected:o,pendingTags:g.__typename==="Photo"?g:null,shareable:c?(h=g)!=null?h:null:null},(a=p==null?void 0:p.id)!=null?a:""+((f=p==null?void 0:(e=p.viewer_actor)==null?void 0:e.id)!=null?f:""))})]})}e.exports=d(a,{media:g!==void 0?g:g=b("CometMediaViewerRightRail_media.graphql"),story:h!==void 0?h:h=b("CometMediaViewerRightRail_story.graphql")})}),null);
__d("CometMediaViewerVideoPlayerSurface.react",["CometRelay","CometWarningScreenOverlay.react","React","VideoPlayerDefaultControls.react","VideoPlayerSurface.react","requireCond","cr:1404875","CometMediaViewerVideoPlayerSurface_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c,d,e;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerVideoPlayerSurface_data.graphql"),a.data);c=a==null?void 0:(c=a.cix_screen)==null?void 0:c.view_model;d=a==null?void 0:(d=a.container_story)==null?void 0:d.id;var f=a==null?void 0:a.id;e=(a==null?void 0:(e=a.preferred_thumbnail)==null?void 0:(e=e.image)==null?void 0:e.uri)!=null?a==null?void 0:(e=a.preferred_thumbnail)==null?void 0:(a=e.image)==null?void 0:a.uri:"#";return h.jsxs(b("VideoPlayerSurface.react"),{children:[h.jsx(b("VideoPlayerDefaultControls.react"),{}),c!=null&&d!=null&&h.jsx(b("CometWarningScreenOverlay.react"),{alwaysShowDetails:!0,contentID:f,data:c,mediaUri:e,storyID:d,surface:"fullscreen_video_player"}),b("cr:1404875")&&h.jsx(b("cr:1404875"),{})]})}}),null);
__d("CometPhotoTagDropdown.react",["ix","fbt","CometMediaViewerPhotoActions","CometMediaViewerPhotoDeleteTagsAction","CometMenu.react","CometPhotoProductTagMenuItem.react","CometPhotoTagMenuItem.react","CometRelay","CometTooltip.react","CometTrackingNodeProvider.react","React","TetraIcon.react","WebSession","emptyFunction","fbicon","gkx","requireDeferred","stylex","CometPhotoTagDropdown_photoTagsEdge.graphql","CometPhotoTagDropdown_productTag.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React"),l=b("requireDeferred")("CometMediaRemoveTagFalcoEvent");function m(a,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=a.nodeID,g=a.onError;a=a.taggee;f={action_source:"photo_tag_dropdown",photo_id:f,surface:"photo_viewer",tags:[{taggee:a}]};b("CometMediaViewerPhotoDeleteTagsAction")({environment:c,extraData:{serialized_frtp_identifiers:d,story_debug_info:e},input:f,onError:g})}function n(a,c,d){c={product_tag_id:c};b("CometMediaViewerPhotoActions").deleteProductTag({environment:d,input:c,onError:a})}function a(a){var c,d,e,f,o=k.useState(!1),p=o[0],q=o[1],r=b("CometRelay").useRelayEnvironment();o=b("CometRelay").useFragment(i!==void 0?i:i=b("CometPhotoTagDropdown_photoTagsEdge.graphql"),a.photoTagsEdge);var s=b("CometRelay").useFragment(j!==void 0?j:j=b("CometPhotoTagDropdown_productTag.graphql"),a.productTag),t=a.hoverDropdown,u=a.nodeID,v=a.onMouseEnter,w=a.onMouseLeave,x=a.shouldShowName,y=a.tagModeEnabled,z=s==null?void 0:s.product_item;c=o==null?void 0:(c=o.node)==null?void 0:c.name;var A=z==null?void 0:z.name;d=z==null?void 0:(d=z.formatted_price)==null?void 0:d.text;var B=z==null?void 0:z.id,C=o==null?void 0:(e=o.node)==null?void 0:e.id;e=o==null?void 0:(e=o.tag)==null?void 0:e.is_text_tag;var D=(o==null?void 0:(f=o.tag)==null?void 0:f.is_product_tag)||B!=null,E=e===!0&&D===!1?{name:c}:{id:D?B:C},F=o==null?void 0:(f=o.source)==null?void 0:(e=f.creation_story)==null?void 0:e.serialized_frtp_identifiers,G=o==null?void 0:(f=o.source)==null?void 0:(e=f.creation_story)==null?void 0:e.debug_info,H=function(){return q(!1)};f=function(){var a=s==null?void 0:s.id;D&&a!=null&&a!==""?n(H,a,r):m({nodeID:u,onError:H,taggee:E},r,F,G);var c=b("WebSession").getId();l.onReady(function(a){a.log(function(){return{media_fbid:u,removed_tag_user_id:C,session_id:c}})});q(!0)};e=(e=o==null?void 0:(e=o.node)==null?void 0:e.url)!=null?e:"";var I=function(a){return v(a,p)},J=function(a){return w(a,p)};x=x||t||y&&!z;J=x?k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:254,children:k.jsxs("div",{className:"j83agx80"+(x?"":" hzruof5a b5wmifdl"),onMouseEnter:I,onMouseLeave:J,children:[c!=null?k.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:k.jsx(b("CometPhotoTagMenuItem.react"),{aux:(o==null?void 0:(t=o.tag)==null?void 0:t.can_viewer_remove_tag)===!0?k.jsx(b("TetraIcon.react"),{"aria-label":h._("Delete Tag"),color:p?"disabled":"primary",disabled:p,icon:b("fbicon")._(g("478232"),16),onPress:p?b("emptyFunction"):f}):null,disabled:p,href:e!==""?e:"#",primaryText:c,testid:void 0})}):null,A!=null&&d!=null&&B!=null&&b("gkx")("1069716")?k.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:k.jsx(b("CometPhotoProductTagMenuItem.react"),{adID:a.adID,aux:(z==null?void 0:z.is_viewer_seller)===!0?k.jsx(b("CometTooltip.react"),{position:"above",tooltip:h._("Remove product tag"),children:k.jsx(b("TetraIcon.react"),{"aria-label":h._("Remove Product Tag"),color:p?"disabled":"primary",disabled:p,icon:b("fbicon")._(g("478232"),16),onPress:p?b("emptyFunction"):f})}):null,bodyText:d,disabled:p,href:(x=z==null?void 0:z.url)!=null?x:"#",postID:u,primaryText:A,productID:B,profilePictureUri:z==null?void 0:(I=z.profile_picture)==null?void 0:I.uri,tagModeEnabled:y})}):null]})}):null;return J}}),null);
__d("CometPhotoTagBox.react",["fbt","CometContextualLayer.react","CometPhotoTagDropdown.react","CometPressable.react","CometProductTagDotHint.react","CometProductTagFunnelIDContext","CometProductTaggingConstants","CometRelay","CommercePdpProductTagClickFalcoEvent","HiddenSubtreeContext","HoveredProductIDContext","React","XCometCommerceProductItemControllerRouteBuilder","stylex","useAddGlobalEventListenerOnEffect","CometPhotoTagBox_photoTagsEdge.graphql","CometPhotoTagBox_productTag.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j,k=b("React"),l="product_tag_on_photo_fullscreen_",m="#",n={hideTag:{opacity:"b5wmifdl"},pressable:{borderTopWidth:"rt8b4zig",borderEndWidth:"n8ej3o3l",borderBottomWidth:"agehan2d",borderStartWidth:"sk4xxmp2",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},productTagDot:{marginBottom:"obtkqiv7"},tagBox:{borderTop:"p09e4i0s",borderEnd:"q6acmjor",borderBottom:"gis0wc87",borderStart:"maq1zhz7"},tagBoxContainer:{pointerEvents:"oqq733wu",position:"pmk7jnqg"}};function a(a){var c,d=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPhotoTagBox_photoTagsEdge.graphql"),a.photoTagsEdge),e=b("CometRelay").useFragment(i!==void 0?i:i=b("CometPhotoTagBox_productTag.graphql"),a.productTag),f=k.useContext(b("CometProductTagFunnelIDContext")),o=k.useState(!1),p=o[0];o=o[1];var q=k.useState(!1),r=q[0],s=q[1];q=k.useState();q[0];var t=q[1];q=k.useContext(b("HiddenSubtreeContext")).hiddenOrBackgrounded_FIXME;var u=k.useRef(null),v=k.useRef(null),w=k.useCallback(function(){v.current!=null&&v.current.reposition({autoflip:!0})},[]);b("useAddGlobalEventListenerOnEffect")(w);k.useEffect(function(){return t(!0)},[]);w=a.borderSize;var x=a.horizontalPercentage,y=a.isAddingTag,z=a.nodeID,A=a.onPressHandler,B=a.tagBoxSize,C=a.tagModeEnabled,D=a.verticalPercentage;w=e==null?B+2*w:b("CometProductTaggingConstants").TOTAL_DOT_SIZE;var E=f!=null?l+z+m+f:l+z,F=e==null?void 0:(c=e.product_item)==null?void 0:c.id,G,H;F!=null&&(c=b("XCometCommerceProductItemControllerRouteBuilder").buildURL({listing_id:F,referral_code:E}),G=function(){b("CommercePdpProductTagClickFalcoEvent").log(function(){return{ad_id:a.adID,component:"CometPhotoTagBox",funnel_id:f,marketplace_surface:"photo_fullscreen",post_id:z,product_id:F,referral_code:E}})},H={linkProps:{url:C?"#":c},onPress:G});var I=k.useContext(b("HoveredProductIDContext"));c=I.hoveredProductID===F;G=r||c;return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:(j||(j=b("stylex")))(n.tagBoxContainer,e==null?n.hideTag:null),ref:u,style:{left:"calc("+x+"% - "+w+"px / 2",top:"calc("+D+"% - "+w+"px / 2"},children:u.current&&e!=null?k.jsx(b("CometPressable.react"),babelHelpers["extends"]({"aria-label":g._("Tag dot"),onHoverChange:o,overlayDisabled:!0,xstyle:n.productTagDot},H,{children:k.jsx("div",{onMouseEnter:function(){return I.setHoveredProductID(F)},onMouseLeave:function(){return I.setHoveredProductID(null)},children:k.jsx(b("CometProductTagDotHint.react"),{borderSize:b("CometProductTaggingConstants").DOT_HINT_BORDER_SIZE,dotSize:b("CometProductTaggingConstants").DOT_HINT_DOT_SIZE,isHighlighted:G,padding:b("CometProductTaggingConstants").DOT_HINT_PADDING})})})):k.jsx(b("CometPressable.react"),{"aria-label":g._("tag box"),display:"inline",onHoverChange:o,onPress:A,overlayDisabled:!0,xstyle:n.pressable,children:k.jsx("div",{className:(j||(j=b("stylex")))(n.tagBox),style:{height:B,width:B}})})}),!q&&u.current&&k.jsx(b("CometContextualLayer.react"),{align:"middle",context:u.current,position:"below",ref:v,children:k.jsx(b("CometPhotoTagDropdown.react"),{adID:a.adID,hoverDropdown:G,nodeID:z,onMouseEnter:function(a,b){!y&&!b&&s(!0)},onMouseLeave:function(a,b){!y&&!b&&s(!1)},photoTagsEdge:d,productTag:e,shouldShowName:p,tagModeEnabled:C})},"tagDropdown-"+r.toString())]})}}),null);
__d("CometPhotoTagWrapper.react",["fbt","CometPhotoAddTag.react","CometPhotoTagBox.react","CometPhotoTaggingConstants","CometPressable.react","CometProductTaggingConstants","CometRelay","JSResource","ProductTaggingCreatorTypedLogger","React","adjustFaceboxPosition","emptyFunction","lazyLoadComponent","stylex","unrecoverableViolation","useCometPhotoTaggerRenderScale","CometPhotoTagWrapper_photo.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=c;var h,i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("CometPhotoAddProductTag.react").__setRef("CometPhotoTagWrapper.react")),k={tagContainer:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",display:"a8c37x1j",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm",":focus":{outline:"iqfcb0g7"}}};function l(a){var c=a.adID,d=a.index,e=a.isAddingTag,f=a.nodeID,g=a.onPressHandler,h=a.productTag,j=a.scaleX,k=a.scaleY,l=a.tagBoxSize,m=a.tagEdge;a=a.tagModeEnabled;if(j==null||k==null)return null;j=j*100;k=k*100;return i.jsx(b("CometPhotoTagBox.react"),{adID:c,borderSize:b("CometPhotoTaggingConstants").BOX_BORDER_SIZE,horizontalPercentage:j,isAddingTag:e,nodeID:f,onPressHandler:g,photoTagsEdge:m,productTag:h,tagBoxSize:l,tagModeEnabled:a,verticalPercentage:k},d)}function c(c){var d,e=b("CometRelay").useFragment(h!==void 0?h:h=b("CometPhotoTagWrapper_photo.graphql"),c.photo),f=e.tagging_actor,m=Boolean(f);f=i.useState(null);var n=f[0],o=f[1];f=i.useState(null);var p=f[0];f=f[1];var q=b("useCometPhotoTaggerRenderScale")({photo:e,refElement:p}),r=c.isTaggingProducts;i.useEffect(function(){c.tagModeEnabled&&m&&o(null)},[m,c.tagModeEnabled]);i.useEffect(function(){if(n!=null){var a=function(){return o(null)};window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}}},[n]);i.useEffect(function(){var b=function(a){o(function(b){return b!=null&&a.target.getAttribute("data-name")==="media-viewer-nav-container"?null:b})};a.addEventListener("click",b);return function(){a.removeEventListener("click",b)}},[]);var s=c.tagBoxSize,t=c.tagModeEnabled,u=s*q;q=e==null?void 0:(s=e.tags)==null?void 0:s.edges;s=e==null?void 0:e.photo_product_tags;var v=e==null?void 0:e.id,w=i.useCallback(function(a){if(p!=null){var c=p.getBoundingClientRect(),d=c.height,f=c.left,g=c.top;c=c.width;var h=r?b("CometProductTaggingConstants").TOTAL_DOT_SIZE:u+2*b("CometPhotoTaggingConstants").BOX_BORDER_SIZE;f=a.clientX-f-h/2;a=a.clientY-g-h/2;g=b("adjustFaceboxPosition")({boxSize:h,imageDimension:c,originalPos:f});f=b("adjustFaceboxPosition")({boxSize:h,imageDimension:d,originalPos:a});a=((e==null?void 0:(h=e.tags)==null?void 0:h.edges)||[]).map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name}).filter(Boolean);if(v==null)throw b("unrecoverableViolation")("CometPhotoAddTag: Cannot find id of photo","comet_ui");if(r){new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Actn_PhotoViewerClickToTagProduct").setMediaType("photo").setReferralSource("post_viewer").setPlatform("comet").setCreatorID((h=e.tagging_actor)==null?void 0:h.id).setMediaID(v).log();o(i.jsx(j,{existingTags:a,imageHeight:d,imageWidth:c,nodeID:v,onPress:w,onSubmitted:function(){o(null)},xPos:g,yPos:f},"newTag:horizontal"+g+"vertical"+f))}else o(i.jsx(b("CometPhotoAddTag.react"),{borderSize:b("CometPhotoTaggingConstants").BOX_BORDER_SIZE,imageHeight:d,imageWidth:c,onPress:t?w:b("emptyFunction"),onSubmitted:function(){o(null)},photo:e,tagBoxSize:u,xPos:g,yPos:f},"newTag:horizontal"+g+"vertical"+f))}},[r,e,v,t,u]),x=!t&&!r||m!==!0?b("emptyFunction"):w;if(q==null||v==null||s==null)return null;var y=s.map(function(a){return a==null?void 0:(a=a.product_item)==null?void 0:a.id}),z=(d=e.creation_story)==null?void 0:(d=d.sponsored_data)==null?void 0:d.ad_id;d=q.filter(function(a){return!y.includes(a==null?void 0:(a=a.node)==null?void 0:a.id)}).map(function(a,b){var c;return l({adID:z,index:parseInt((c=a==null?void 0:(c=a.node)==null?void 0:c.id)!=null?c:b,10),isAddingTag:n!=null,isTaggingProducts:r,nodeID:v,onPressHandler:x,scaleX:a==null?void 0:(c=a.tag)==null?void 0:(b=c.location)==null?void 0:b.x,scaleY:a==null?void 0:(c=a.tag)==null?void 0:(b=c.location)==null?void 0:b.y,tagBoxSize:u,tagEdge:a,tagModeEnabled:t})}).filter(Boolean);s=((q=s)!=null?q:[]).map(function(a,b){var c;return(a==null?void 0:a.xy_location)!=null&&l({adID:z,index:parseInt((c=a==null?void 0:(c=a.product_item)==null?void 0:c.id)!=null?c:b,10),isAddingTag:n!=null,isTaggingProducts:r,nodeID:v,onPressHandler:x,productTag:a,scaleX:((b=a==null?void 0:(c=a.xy_location)==null?void 0:c.x)!=null?b:0)/100,scaleY:((b=a==null?void 0:(c=a.xy_location)==null?void 0:c.y)!=null?b:0)/100,tagBoxSize:u,tagModeEnabled:t})}).filter(Boolean);return i.jsxs(i.Fragment,{children:[i.jsxs(b("CometPressable.react"),{display:"inline",label:g._("Tag photo"),onPress:x,overlayDisabled:!0,ref:f,testid:void 0,xstyle:k.tagContainer,children:[d,s]}),t?n:null]})}}),null);
__d("CometPhotoTagLayer.react",["CometPhotoTagWrapper.react","CometRelay","React","CometPhotoTagLayerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=g!==void 0?g:g=b("CometPhotoTagLayerQuery.graphql");function a(a){var c=a.photoTagLayerQueryReference;a=babelHelpers.objectWithoutPropertiesLoose(a,["photoTagLayerQueryReference"]);c=b("CometRelay").usePreloadedQuery(i,c);c=c==null?void 0:c.node;return c==null?null:h.jsx(b("CometPhotoTagWrapper.react"),babelHelpers["extends"]({photo:c},a))}}),null);
__d("CometMediaViewer.react",["CometFeedAttachmentOverlayContext","CometMediaViewerStage.react","CometMediaViewerVideoPlayerSurface.react","CometPhotoTagLayer.react","CometPhotoViewer.react","CometRelay","CometRouteRenderType","React","VideoPlayerRelay.react","stylex","useCometDisplayTimingTracker","useRoutePassthroughProps","CometMediaViewer_media.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=b("React");function a(a){var c,d=b("CometRouteRenderType").useIsPushView(),e=a.media,f=a.origHeight,j=a.origOverlayShown,k=a.origSrc,l=a.origWidth,m=a.photoTagLayerQueryReference,n=a.storyRenderLocation;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","origHeight","origOverlayShown","origSrc","origWidth","photoTagLayerQueryReference","storyRenderLocation"]);e=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewer_media.graphql"),e);var o=b("useCometDisplayTimingTracker")("MediaViewerVideo"),p=b("useRoutePassthroughProps")(),q=p==null?void 0:p.subOrigin,r=(p==null?void 0:p.initialTracePolicy)!=null?String(p==null?void 0:p.initialTracePolicy):null;p=p==null?void 0:p.portableVideoID;c=((c=e.cix_screen)==null?void 0:(c=c.view_model)==null?void 0:c.__typename)!=null;var s=(e==null?void 0:e.is_playable)===!0;if(s){d=i.jsx("div",{className:"l9j0dhe7 buofh1pr cbu4d94t j83agx80","data-testid":void 0,children:i.jsx(b("CometMediaViewerStage.react"),babelHelpers["extends"]({},a,{initialTracePolicy:r,storyRenderLocation:n,subOrigin:q,children:i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","display-1":"j83agx80","flex-grow-1":"buofh1pr","justify-content-1":"taijpn5t","min-height-1":"pnzxbu4t","width-1":"k4urcfbm"},d?{"height-1":"nznu9b0o"}:null,d?null:{"height-1":"mqzoxkkh"}),ref:o,children:i.jsx(b("VideoPlayerRelay.react"),{canAutoplay:c?"do_not_autoplay":"respect_user_settings",portalingEnabled:!0,portalingFromVideoID:p,portalingPlaceMetaData:{placeDescription:"media_viewer"},subOrigin:(s=q)!=null?s:"media_viewer",video:e,children:i.jsx(b("CometMediaViewerVideoPlayerSurface.react"),{data:e})})})}))})}else d=i.jsx(b("CometPhotoViewer.react"),babelHelpers["extends"]({initialTracePolicy:r,origHeight:f,origSrc:k,origWidth:l,photo:e,photoTagLayerQueryReference:m,showTag:b("CometPhotoTagLayer.react"),storyRenderLocation:n,subOrigin:q},a));return i.jsx(b("CometFeedAttachmentOverlayContext").CometFeedAttachmentOverlayContextProvider,{overlayExists:c,overlayShownOverride:j,children:d})}}),null);
__d("CometMediaViewerLayout.react",["CometMediaViewer.react","CometRelay","React","gkx","requireCond","unrecoverableViolation","useIsCurrentRouteMediaViewer","useShouldShowMessagingEntrypoint","cr:1546552","cr:1546103","cr:1546553","CometMediaViewerLayout_media.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("gkx")("708253");function a(a){var c=a.leftRail;c=c===void 0?null:c;var d=a.media,e=a.rightRail;e=e===void 0?null:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["leftRail","media","rightRail"]);d=b("CometRelay").useFragment(g!==void 0?g:g=b("CometMediaViewerLayout_media.graphql"),d);d=h.jsx(b("CometMediaViewer.react"),babelHelpers["extends"]({media:d},a));a=b("useShouldShowMessagingEntrypoint")("CHAT")&&i;a=b("useIsCurrentRouteMediaViewer")()&&a;if(b("cr:1546103")!=null&&b("cr:1546553")!=null)return h.jsx(b("cr:1546103").Wrapper,{children:h.jsx(b("cr:1546553"),{isRightRailFixed:!0,rightRail:e,showChatSliver:a,children:d})});if(b("cr:1546552")!=null)return h.jsx(b("cr:1546552"),{leftRail:c,rightRail:e,children:d});throw b("unrecoverableViolation")("Layout should either follow responsive layout for main and complementary content or follow layout for the media viewer, depending on the gk. One of these components (CometPageLayoutWithComplementaryContent, CometNewsfeedKeyCommandWidget, CometMediaViewerLayoutSkeleton) is null when it should not be.","comet_ui")}}),null);
__d("CometNoCursorMediaSetViewerRenderer.react",["CometMediaViewerLayout.react","CometRelay","React","useCometMediaURL","CometNoCursorMediaSetViewerRenderer_media.graphql","CometNoCursorMediaSetViewerRenderer_mediaset.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React");function j(a,c,d,e){var f=c!==(a==null?void 0:a.id)?a==null?void 0:a.id:null;i.useEffect(function(){f!=null&&(e&&e(f))},[e,f]);return b("useCometMediaURL")(f!=null?a:null,d)}function a(a){var c,d,e,f=a.mediaset,g=a.mediasetToken,h=a.prefetchForId,k=babelHelpers.objectWithoutPropertiesLoose(a,["mediaset","mediasetToken","prefetchForId"]);c=(c=f==null?void 0:(c=f.firstMediaNoCursor)==null?void 0:c.edges)!=null?c:[];c=c==null?void 0:(c=c[0])==null?void 0:c.node;d=(d=f==null?void 0:(d=f.lastMediaNoCursor)==null?void 0:d.edges)!=null?d:[];d=d==null?void 0:(d=d[0])==null?void 0:d.node;var l=(c==null?void 0:c.id)===(d==null?void 0:d.id);e=!l&&(f==null?void 0:(e=f.prevMediaNoCursor)==null?void 0:e.id)===((e=a.media)==null?void 0:e.id);l=!l&&(f==null?void 0:(l=f.nextMediaNoCursor)==null?void 0:l.id)==null;e=e?d:f==null?void 0:f.prevMediaNoCursor;e=j(e,(d=a.media)==null?void 0:d.id,g,h);d=l?c:f==null?void 0:f.nextMediaNoCursor;c=j(d,(l=a.media)==null?void 0:l.id,g,h);return i.jsx(b("CometMediaViewerLayout.react"),babelHelpers["extends"]({},k,{nextMediaURI:c,prevMediaURI:e}))}c=b("CometRelay").createSuspenseFragmentContainer_DEPRECATED(a,{media:g!==void 0?g:g=b("CometNoCursorMediaSetViewerRenderer_media.graphql"),mediaset:h!==void 0?h:h=b("CometNoCursorMediaSetViewerRenderer_mediaset.graphql")});e.exports=c}),null);
__d("mediaViewerPrefetch",["CometRelay","CometRelayEnvironment","JSScheduler","JSTracing","promiseDone","relay-runtime"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){b("JSTracing").clear(function(){b("JSScheduler").scheduleLoggingPriCallback(function(){var d=b("relay-runtime").createOperationDescriptor(b("relay-runtime").getRequest(a),c),e=b("CometRelayEnvironment").check(d).status==="available";e||b("promiseDone")(b("CometRelay").fetchQuery(b("CometRelayEnvironment"),a,d.request.variables).toPromise())})})}}),null);